<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>8. Coverage stores &mdash; deegree webservices ${project.version} documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '${project.version}',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="deegree webservices ${project.version} documentation" href="index.html" />
    <link rel="next" title="9. Metadata stores" href="metadatastores.html" />
    <link rel="prev" title="7. Tile stores" href="tilestores.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          deegree webservices</a>
        <span class="navbar-text navbar-version pull-left"><b>${project.version}</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="lightly.html">3. Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">4. Configuration basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="webservices.html">5. Web services</a></li>
<li class="toctree-l1"><a class="reference internal" href="featurestores.html">6. Feature stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="tilestores.html">7. Tile stores</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">8. Coverage stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadatastores.html">9. Metadata stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers.html">10. Map layers</a></li>
<li class="toctree-l1"><a class="reference internal" href="themes.html">11. Map themes</a></li>
<li class="toctree-l1"><a class="reference internal" href="renderstyles.html">12. Map styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="filterencoding.html">13. Filter Encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="serverconnections.html">14. Server connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="processproviders.html">15. Process providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="crs.html">16. Coordinate reference systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="restapi.html">17. deegree REST interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="javamodules.html">18. Java modules and libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="gdal.html">19. GDAL components</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">8. Coverage stores</a><ul>
<li><a class="reference internal" href="#raster">8.1. Raster</a></li>
<li><a class="reference internal" href="#multiresolutionraster">8.2. MultiResolutionRaster</a></li>
<li><a class="reference internal" href="#pyramid">8.3. Pyramid</a><ul>
<li><a class="reference internal" href="#prerequisities-for-pyramids">8.3.1. Prerequisities for Pyramids</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="tilestores.html" title="Previous Chapter: 7. Tile stores"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; 7. Tile stores</span>
    </a>
  </li>
  <li>
    <a href="metadatastores.html" title="Next Chapter: 9. Metadata stores"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">9. Metadata stor... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/coveragestores.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="coverage-stores">
<span id="anchor-configuration-coveragestore"></span><h1>8. Coverage stores<a class="headerlink" href="#coverage-stores" title="Permalink to this headline">¶</a></h1>
<p>Coverage stores are resources that provide access to raster data. The most common use case for coverage stores is to provide data for coverage layers. You can access this configuration level by clicking the <strong>coverage stores</strong> link in the service console. The corresponding resource configuration files are located in subdirectory <strong>datasources/coverage/</strong> of the active deegree workspace directory.</p>
<div class="figure" style="width: 80%">
<a class="reference external image-reference" href="_images/workspace-overview-coverage.png"><img alt="_images/workspace-overview-coverage.png" src="_images/workspace-overview-coverage.png" style="width: 80%;" /></a>
<p class="caption">Coverage store resources provide access to raster data</p>
</div>
<p>For raster data there are three different possible configurations. One is for &lt;Raster&gt; and one is for &lt;MultiResolutionRaster&gt;. The third possibility is for &lt;Pyramid&gt;. If you are not sure which one to use, you probably want the &lt;Raster&gt; configuration.</p>
<div class="section" id="raster">
<h2>8.1. Raster<a class="headerlink" href="#raster" title="Permalink to this headline">¶</a></h2>
<p>The most common method to provide coverages with deegree, is to use Raster.
With the Raster configuration it is possible to provide single RasterFiles or a complete RasterDirectory directly.</p>
<p>Here are two examples showing RasterFile and RasterDirectory configuration:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Raster</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.deegree.org/datasource/coverage/raster&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.deegree.org/datasource/coverage/raster http://schemas.deegree.org/datasource/coverage/raster/3.0.0/raster.xsd&quot;</span> <span class="na">configVersion=</span><span class="s">&quot;3.0.0&quot;</span> <span class="na">originLocation=</span><span class="s">&quot;outer&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;StorageCRS&gt;</span>EPSG:26912<span class="nt">&lt;/StorageCRS&gt;</span>
  <span class="nt">&lt;RasterFile&gt;</span>../../../data/utah/raster/dem.tiff<span class="nt">&lt;/RasterFile&gt;</span>
<span class="nt">&lt;/Raster&gt;</span>
</pre></div>
</div>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Raster</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.deegree.org/datasource/coverage/raster&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.deegree.org/datasource/coverage/raster http://schemas.deegree.org/datasource/coverage/raster/3.0.0/raster.xsd&quot;</span> <span class="na">configVersion=</span><span class="s">&quot;3.0.0&quot;</span> <span class="na">originLocation=</span><span class="s">&quot;outer&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;StorageCRS&gt;</span>EPSG:26912<span class="nt">&lt;/StorageCRS&gt;</span>
  <span class="nt">&lt;RasterDirectory&gt;</span>../../../data/utah/raster/Satellite_Provo/<span class="nt">&lt;/RasterDirectory&gt;</span>
<span class="nt">&lt;/Raster&gt;</span>
</pre></div>
</div>
<p>A Raster can have several attributes:</p>
<ul class="simple">
<li>The originLocation attribute can have the values center or outer to declare the pixel origin of the coverage.</li>
<li>The nodata attribute can be optionally used to declare a nodata value.</li>
<li>The readWorldFiles parameter can have the values true or false to indicate if worlfiles will be read. Default value is true.</li>
<li>The StorageCRS paramter is optional but recommended. It contains the EPSG code of the coverage sources.</li>
<li>The RasterFile and RasterDirectory parameters contain the path to your coverage sources. The RasterDirectory paramter can additionally have the recursive attribute with true and false as value to declare subdirectories to be included.</li>
</ul>
</div>
<div class="section" id="multiresolutionraster">
<h2>8.2. MultiResolutionRaster<a class="headerlink" href="#multiresolutionraster" title="Permalink to this headline">¶</a></h2>
<p>A &lt;MultiResolutionRaster&gt; wraps single raster elements and adds a resolution for each raster. This means, depending on the resolution of the map a different raster source is used.</p>
<p>Here is an example for a MultiResolutionRaster:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;MultiResolutionRaster</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.deegree.org/datasource/coverage/raster&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.deegree.org/datasource/coverage/raster http://schemas.deegree.org/datasource/coverage/raster/3.0.0/raster.xsd&quot;</span> <span class="na">configVersion=</span><span class="s">&quot;3.0.0&quot;</span> <span class="na">originLocation=</span><span class="s">&quot;outer&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;StorageCRS&gt;</span>EPSG:26912<span class="nt">&lt;/StorageCRS&gt;</span>
  <span class="nt">&lt;Resolution&gt;</span>
    <span class="nt">&lt;Raster</span> <span class="na">configVersion=</span><span class="s">&quot;3.0.0&quot;</span> <span class="na">originLocation=</span><span class="s">&quot;outer&quot;</span> <span class="na">res=</span><span class="s">&quot;1.0&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;StorageCRS&gt;</span>EPSG:26912<span class="nt">&lt;/StorageCRS&gt;</span>
      <span class="nt">&lt;RasterFile&gt;</span>../../../data/utah/raster/dem.tiff<span class="nt">&lt;/RasterFile&gt;</span>
    <span class="nt">&lt;/Raster&gt;</span>
  <span class="nt">&lt;/Resolution&gt;</span>
  <span class="nt">&lt;Resolution&gt;</span>
    <span class="nt">&lt;Raster</span> <span class="na">configVersion=</span><span class="s">&quot;3.0.0&quot;</span> <span class="na">res=</span><span class="s">&quot;2.0&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;StorageCRS&gt;</span>EPSG:26912<span class="nt">&lt;/StorageCRS&gt;</span>
      <span class="nt">&lt;RasterDirectory&gt;</span>../../../data/utah/raster/Satellite_Provo/<span class="nt">&lt;/RasterDirectory&gt;</span>
    <span class="nt">&lt;/Raster&gt;</span>
  <span class="nt">&lt;/Resolution&gt;</span>
<span class="nt">&lt;/MultiResolutionRaster&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li>A MultiResolustionRaster contains at least one Resolution</li>
<li>The Raster parameter has a res attribute. Its value is related to the provided resolution.</li>
<li>The StorageCRS paramter is optional but recommended. It contains the EPSG code of the coverage sources.</li>
<li>All elements and attributes from the Raster configuration can be used for the resolutions.</li>
</ul>
</div>
<div class="section" id="pyramid">
<h2>8.3. Pyramid<a class="headerlink" href="#pyramid" title="Permalink to this headline">¶</a></h2>
<p>A &lt;Pyramid&gt; is used for deegree&#8217;s support for raster pyramids. For this, it is required that the raster pyramid must be a GeoTIFF, containing the extent and coordinate system of the data. Overlays must be multiples of 2. This is best tested with source data being processed with GDAL.</p>
<div class="section" id="prerequisities-for-pyramids">
<h3>8.3.1. Prerequisities for Pyramids<a class="headerlink" href="#prerequisities-for-pyramids" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Must be a GeoTiff as BigTiff</li>
<li>Must be RGB or RGBA</li>
<li>CRS must be contained</li>
<li>Must be tiled</li>
<li>Should have overviews where each overview must consist of 1/2 resolution</li>
</ul>
<p>The following example shows, how to configure a coverage pyramid:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Pyramid</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.deegree.org/datasource/coverage/pyramid&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.deegree.org/datasource/coverage/pyramid http://schemas.deegree.org/datasource/coverage/raster/3.1.0/pyramid.xsd&quot;</span> <span class="na">configVersion=</span><span class="s">&quot;3.1.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PyramidFile&gt;</span>data/example.tif<span class="nt">&lt;/PyramidFile&gt;</span>
  <span class="nt">&lt;CRS&gt;</span>EPSG:4326<span class="nt">&lt;/CRS&gt;</span>
<span class="nt">&lt;/Pyramid&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li>A Pyramid contains a PyramidFile parameter with the path to the pyramid as its value.</li>
<li>A Pyramid contains a CRS parameter describing the source CRS of the pyramid as EPSG code.</li>
</ul>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, The deegree project.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>