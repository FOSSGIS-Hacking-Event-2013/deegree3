<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>13. Filter Encoding &mdash; deegree webservices ${project.version} documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '${project.version}',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="deegree webservices ${project.version} documentation" href="index.html" />
    <link rel="next" title="14. Server connections" href="serverconnections.html" />
    <link rel="prev" title="12. Map styles" href="renderstyles.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          deegree webservices</a>
        <span class="navbar-text navbar-version pull-left"><b>${project.version}</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="lightly.html">3. Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">4. Configuration basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="webservices.html">5. Web services</a></li>
<li class="toctree-l1"><a class="reference internal" href="featurestores.html">6. Feature stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="tilestores.html">7. Tile stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="coveragestores.html">8. Coverage stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadatastores.html">9. Metadata stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers.html">10. Map layers</a></li>
<li class="toctree-l1"><a class="reference internal" href="themes.html">11. Map themes</a></li>
<li class="toctree-l1"><a class="reference internal" href="renderstyles.html">12. Map styles</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">13. Filter Encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="serverconnections.html">14. Server connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="processproviders.html">15. Process providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="crs.html">16. Coordinate reference systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="restapi.html">17. deegree REST interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="javamodules.html">18. Java modules and libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="gdal.html">19. GDAL components</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">13. Filter Encoding</a><ul>
<li><a class="reference internal" href="#filter-operators">13.1. Filter Operators</a><ul>
<li><a class="reference internal" href="#arithmetic-operators">13.1.1. Arithmetic operators</a></li>
<li><a class="reference internal" href="#logical-operators">13.1.2. Logical operators</a></li>
<li><a class="reference internal" href="#comparison-operators">13.1.3. Comparison operators</a></li>
<li><a class="reference internal" href="#spatial-operators">13.1.4. Spatial operators</a></li>
</ul>
</li>
<li><a class="reference internal" href="#filter-expressions">13.2. Filter expressions</a><ul>
<li><a class="reference internal" href="#simple-filter-expressions">13.2.1. Simple filter expressions</a><ul>
<li><a class="reference internal" href="#comparative-filter-expression">13.2.1.1. Comparative filter expression</a></li>
<li><a class="reference internal" href="#spatial-filter-expression">13.2.1.2. Spatial filter expression</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-filter-expressions">13.2.2. Advanced filter expressions</a><ul>
<li><a class="reference internal" href="#multiple-filter-operators">13.2.2.1. Multiple filter operators</a></li>
<li><a class="reference internal" href="#propertyislike-with-a-function">13.2.2.2. PropertyIsLike with a function</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#custom-fe-functions">13.3. Custom FE functions</a><ul>
<li><a class="reference internal" href="#area">13.3.1. Area</a></li>
<li><a class="reference internal" href="#length">13.3.2. Length</a></li>
<li><a class="reference internal" href="#centroid">13.3.3. Centroid</a></li>
<li><a class="reference internal" href="#interiorpoint">13.3.4. InteriorPoint</a></li>
<li><a class="reference internal" href="#ispoint-iscurve-issurface">13.3.5. IsPoint, IsCurve, IsSurface</a></li>
<li><a class="reference internal" href="#geometryfromwkt">13.3.6. GeometryFromWKT</a></li>
<li><a class="reference internal" href="#movegeometry">13.3.7. MoveGeometry</a></li>
<li><a class="reference internal" href="#idiv">13.3.8. iDiv</a></li>
<li><a class="reference internal" href="#imod">13.3.9. iMod</a></li>
<li><a class="reference internal" href="#extraprop">13.3.10. ExtraProp</a></li>
<li><a class="reference internal" href="#getcurrentscale">13.3.11. GetCurrentScale</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="renderstyles.html" title="Previous Chapter: 12. Map styles"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; 12. Map styles</span>
    </a>
  </li>
  <li>
    <a href="serverconnections.html" title="Next Chapter: 14. Server connections"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">14. Server conne... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/filterencoding.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="filter-encoding">
<span id="anchor-configuration-filter"></span><h1>13. Filter Encoding<a class="headerlink" href="#filter-encoding" title="Permalink to this headline">¶</a></h1>
<p>deegree makes extensive use of the OGC Filter Encoding standard. Within deegree there are implementations
of the versions  1.1.0 and 2.0.0 of this standards and several extensions and additional functions.
This chapter is meant to explain the filter capabilities of deegree which can
be used within <a class="reference internal" href="renderstyles.html#anchor-configuration-renderstyles"><em>Map styles</em></a> and :ref:<a href="#id1"><span class="problematic" id="id2">`</span></a>anchor-configuration-wfs´ requests.</p>
<div class="section" id="filter-operators">
<h2>13.1. Filter Operators<a class="headerlink" href="#filter-operators" title="Permalink to this headline">¶</a></h2>
<p>The purpose of FE is to have a standardized way for defining selection criteria on data.
This requires the definition of operators for the creation of filter expressions. Within this section,
the supported operators are explained. Additionally there is information about deegree specific behaviour.
Depending on the version of FE, syntax may differ. In the following, FE 1.1.0 syntax is used.</p>
<div class="section" id="arithmetic-operators">
<h3>13.1.1. Arithmetic operators<a class="headerlink" href="#arithmetic-operators" title="Permalink to this headline">¶</a></h3>
<p>FE enables the use of the following arithmetic operators:</p>
<blockquote>
<div><ul class="simple">
<li>Add: used for addition</li>
<li>Sub: used for substraction</li>
<li>Mul: used for multiplication</li>
<li>Div: used for division</li>
</ul>
</div></blockquote>
<p><strong>Example:</strong></p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Add&gt;</span>
  <span class="nt">&lt;PropertyName&gt;</span>app:ID<span class="nt">&lt;/PropertyName&gt;</span>
  <span class="nt">&lt;Literal&gt;</span>15<span class="nt">&lt;/Literal&gt;</span>
<span class="nt">&lt;/Add&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="logical-operators">
<h3>13.1.2. Logical operators<a class="headerlink" href="#logical-operators" title="Permalink to this headline">¶</a></h3>
<p>FE enables the use of the following logical operators:</p>
<blockquote>
<div><ul class="simple">
<li>And: Links two conditions with AND</li>
<li>Or: links two conditions with OR</li>
<li>Not: negates a condition</li>
</ul>
</div></blockquote>
<p><strong>Example:</strong></p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Not&gt;</span>
  <span class="nt">&lt;PropertyName&gt;</span>app:ID<span class="nt">&lt;/PropertyName&gt;</span>
  <span class="nt">&lt;Literal&gt;</span>15<span class="nt">&lt;/Literal&gt;</span>
<span class="nt">&lt;/Not&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="comparison-operators">
<h3>13.1.3. Comparison operators<a class="headerlink" href="#comparison-operators" title="Permalink to this headline">¶</a></h3>
<p>deegree has implementations for the following list of comparison operators:</p>
<blockquote>
<div><ul class="simple">
<li>PropertyIsEqualTo: Evaluates if a property value equals to another value.</li>
<li>PropertyIsNotEqualTo: Evaluates if a property value differs from another value.</li>
<li>PropertyIsLessThan: Evaluates if a property value is smaller than another value.</li>
<li>PropertyIsGreaterThan: Evaluates if a property value is greater than another value.</li>
<li>PropertyIsLessThanOrEqualTo: Evaluates if a property value is smaller than or equal to another value.</li>
<li>PropertyIsGreaterThanOrEqualTo: Evaluates if a property value is greater than or euqal to another value.</li>
<li>PropertyIsLike: Evaluates if a property value is like another value. It compares string values which each other.</li>
<li>PropertyIsNull: Evaluates if a property value is NULL.</li>
<li>PropertyIsBetween: Evaluates if a property value is between 2 defined values.</li>
</ul>
</div></blockquote>
<p><strong>Example:</strong></p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;PropertyIsEqualTo&gt;</span>
  <span class="nt">&lt;PropertyName&gt;</span>SomeProperty<span class="nt">&lt;/PropertyName&gt;</span>
  <span class="nt">&lt;Literal&gt;</span>100<span class="nt">&lt;/Literal&gt;</span>
<span class="nt">&lt;/PropertyIsEqualTo&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="spatial-operators">
<h3>13.1.4. Spatial operators<a class="headerlink" href="#spatial-operators" title="Permalink to this headline">¶</a></h3>
<p>With deegree you can make use of the following spatial operators:</p>
<blockquote>
<div><ul class="simple">
<li>Equals: Evaluates if geometries are identical</li>
<li>Disjoin: Evaluates if geometries are spatially disjoined</li>
<li>Touches: Evaluates if geometries are spatially touching</li>
<li>Within: Evaluates if a geometry is spatially within another</li>
<li>Overlaps: Evaluates if geometries are spatially overlapping</li>
<li>Crosses: Evaluates if geometries are spatially crossing</li>
<li>Intersects: Evaluates if geometries are spatially intersecting. This is meant as the opposite of disjoin.</li>
<li>Contains: Evaluates if a geometry spatially contains another.</li>
<li>DWithin: Evaluates if a geometry is within a specific distance to another.</li>
<li>Beyond: Evaluates if a geometry is beyond a specific distance to another.</li>
<li>BBOX: Evaluates if a geometry spatially intersects with a given bounding box.</li>
</ul>
</div></blockquote>
<p><strong>Example:</strong></p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Overlaps&gt;</span>
  <span class="nt">&lt;PropertyName&gt;</span>Geometry<span class="nt">&lt;/PropertyName&gt;</span>
  <span class="nt">&lt;gml:Polygon</span> <span class="na">srsName=</span><span class="s">&quot;EPSG:4258&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;gml:outerBoundaryIs&gt;</span>
      <span class="nt">&lt;gml:LinearRing&gt;</span>
        <span class="nt">&lt;gml:posList&gt;</span> ... <span class="nt">&lt;/gml:posList&gt;</span>
      <span class="nt">&lt;/gml:LinearRing&gt;</span>
    <span class="nt">&lt;/gml:outerBoundaryIs&gt;</span>
  <span class="nt">&lt;/gml:Polygon&gt;</span>
<span class="nt">&lt;/Overlaps&gt;</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">For further reading on spatial operators, please refer to the OGC Simple Features Specification For SQL.</p>
</div>
</div>
</div>
<div class="section" id="filter-expressions">
<h2>13.2. Filter expressions<a class="headerlink" href="#filter-expressions" title="Permalink to this headline">¶</a></h2>
<p>For the use within map styles or WFS requests, filter expressions can be constructed from the above operators to select specific data.
This section gives some examples for the use of such filter expressions.</p>
<div class="section" id="simple-filter-expressions">
<h3>13.2.1. Simple filter expressions<a class="headerlink" href="#simple-filter-expressions" title="Permalink to this headline">¶</a></h3>
<div class="section" id="comparative-filter-expression">
<h4>13.2.1.1. Comparative filter expression<a class="headerlink" href="#comparative-filter-expression" title="Permalink to this headline">¶</a></h4>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Filter&gt;</span>
  <span class="nt">&lt;PropertyIsEqualTo&gt;</span>
    <span class="nt">&lt;PropertyName&gt;</span>SomeProperty<span class="nt">&lt;/PropertyName&gt;</span>
    <span class="nt">&lt;Literal&gt;</span>100<span class="nt">&lt;/Literal&gt;</span>
  <span class="nt">&lt;/PropertyIsEqualTo&gt;</span>
<span class="nt">&lt;/Filter&gt;</span>
</pre></div>
</div>
<p>This filter expressions shows, how filter expressions with a comparative filter are constructed
In the concrete example, the property SomeProperty is evaluated, if it equals to the value of &#8220;100&#8221;.</p>
</div>
<div class="section" id="spatial-filter-expression">
<h4>13.2.1.2. Spatial filter expression<a class="headerlink" href="#spatial-filter-expression" title="Permalink to this headline">¶</a></h4>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Filter&gt;</span>
  <span class="nt">&lt;Overlaps&gt;</span>
    <span class="nt">&lt;PropertyName&gt;</span>Geometry<span class="nt">&lt;/PropertyName&gt;</span>
    <span class="nt">&lt;gml:Polygon</span> <span class="na">srsName=</span><span class="s">&quot;EPSG:4258&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;gml:outerBoundaryIs&gt;</span>
        <span class="nt">&lt;gml:LinearRing&gt;</span>
          <span class="nt">&lt;gml:posList&gt;</span> ... <span class="nt">&lt;/gml:posList&gt;</span>
        <span class="nt">&lt;/gml:LinearRing&gt;</span>
      <span class="nt">&lt;/gml:outerBoundaryIs&gt;</span>
    <span class="nt">&lt;/gml:Polygon&gt;</span>
  <span class="nt">&lt;/Overlaps&gt;</span>
<span class="nt">&lt;/Filter&gt;</span>
</pre></div>
</div>
<p>This filter expressions shows, how filter expressions with a spatial filter are constructed. In the concrete case, the defined filter looks up,
if the property geometry overlaps with the define polygon of ...</p>
</div>
</div>
<div class="section" id="advanced-filter-expressions">
<h3>13.2.2. Advanced filter expressions<a class="headerlink" href="#advanced-filter-expressions" title="Permalink to this headline">¶</a></h3>
<div class="section" id="multiple-filter-operators">
<h4>13.2.2.1. Multiple filter operators<a class="headerlink" href="#multiple-filter-operators" title="Permalink to this headline">¶</a></h4>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Filter&gt;</span>
  <span class="nt">&lt;And&gt;</span>
    <span class="nt">&lt;PropertyIsLessThan&gt;</span>
      <span class="nt">&lt;PropertyName&gt;</span>DEPTH<span class="nt">&lt;/PropertyName&gt;</span>
      <span class="nt">&lt;Literal&gt;</span>30<span class="nt">&lt;/Literal&gt;</span>
    <span class="nt">&lt;/PropertyIsLessThan&gt;</span>
    <span class="nt">&lt;Not&gt;</span>
      <span class="nt">&lt;Disjoint&gt;</span>
        <span class="nt">&lt;PropertyName&gt;</span>Geometry<span class="nt">&lt;/PropertyName&gt;</span>
        <span class="nt">&lt;gml:Envelope</span> <span class="na">srsName=</span><span class="s">&quot;EPSG:4258&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;gml:lowerCorner&gt;</span>13.0983 31.5899<span class="nt">&lt;/gml:lowerCorner&gt;</span>
          <span class="nt">&lt;gml:upperCorner&gt;</span>35.5472 42.8143<span class="nt">&lt;/gml:upperCorner&gt;</span>
        <span class="nt">&lt;/gml:Envelope&gt;</span>
      <span class="nt">&lt;/Disjoint&gt;</span>
    <span class="nt">&lt;/Not&gt;</span>
  <span class="nt">&lt;/And&gt;</span>
<span class="nt">&lt;/Filter&gt;</span>
</pre></div>
</div>
<p>This more complex filter expressions shows, how to make use of combinations of filter operators.
THe given filter expression evaluates if the value of the property DEPTH is smaller than &#8220;30&#8221; AND if the
geometry property named Geometry is spatially disjoint with the given envelope.</p>
</div>
<div class="section" id="propertyislike-with-a-function">
<h4>13.2.2.2. PropertyIsLike with a function<a class="headerlink" href="#propertyislike-with-a-function" title="Permalink to this headline">¶</a></h4>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;fes:Filter</span> <span class="na">xmlns:fes=</span><span class="s">&quot;http://www.opengis.net/fes/2.0&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fes:PropertyIsLike</span> <span class="na">wildCard=</span><span class="s">&quot;*&quot;</span> <span class="na">singleChar=</span><span class="s">&quot;#&quot;</span> <span class="na">escapeChar=</span><span class="s">&quot;!&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;fes:ValueReference&gt;</span>name<span class="nt">&lt;/fes:ValueReference&gt;</span>
    <span class="nt">&lt;fes:Function</span> <span class="na">name=</span><span class="s">&quot;normalize&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;fes:Literal&gt;</span>FALkenstrasse<span class="nt">&lt;/fes:Literal&gt;</span>
    <span class="nt">&lt;/fes:Function&gt;</span>
  <span class="nt">&lt;/fes:PropertyIsLike&gt;</span>
<span class="nt">&lt;/fes:Filter&gt;</span>
</pre></div>
</div>
<p>This example shows, how functions can be used within filter expressions. Within the given example, the &#8220;name&#8221; property is evaluated, if it is like
the Literal FAlkenstrasse. Using a function for the evaluation of the Literal means, that the value is processed with the function before the
filter operator handles it. In the concrete case this means a normalization of the value (Which is not usable by default with deegree).</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Please note, the use of functions within PropertyIsLike filter operators is only possible with FE 2.0. This is the reason for the FE 2.0 notation.</p>
</div>
</div>
</div>
</div>
<div class="section" id="custom-fe-functions">
<h2>13.3. Custom FE functions<a class="headerlink" href="#custom-fe-functions" title="Permalink to this headline">¶</a></h2>
<p>Besides the filter capabilities described above, FE defines Functions to be used within filter expressions.
deegree offers the capability to use a nice set of custom FE functions for different purposes.
These are explained within the following chapter.</p>
<div class="section" id="area">
<h3>13.3.1. Area<a class="headerlink" href="#area" title="Permalink to this headline">¶</a></h3>
<p>The area function is the first in a row of custom geometry functions which can be used within deegree. With the area function it is possible to get the area of a geometry property. If multiple geometry nodes are selected, multiple area values are calculated.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Function</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">name=</span><span class="s">&quot;Area&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PropertyName&gt;</span>app:geometry<span class="nt">&lt;/PropertyName&gt;</span>
<span class="nt">&lt;/Function&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="length">
<h3>13.3.2. Length<a class="headerlink" href="#length" title="Permalink to this headline">¶</a></h3>
<p>This function calculates the length of a linestring/perimeter of a polygon. If multiple geometry nodes are selected, multiple length values are calculated.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Function</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">name=</span><span class="s">&quot;Length&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PropertyName&gt;</span>app:geometry<span class="nt">&lt;/PropertyName&gt;</span>
<span class="nt">&lt;/Function&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="centroid">
<h3>13.3.3. Centroid<a class="headerlink" href="#centroid" title="Permalink to this headline">¶</a></h3>
<p>This function calculates the centroid of a polygon. If multiple geometry nodes are selected, multiple centroids are calculated.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Function</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">name=</span><span class="s">&quot;Centroid&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PropertyName&gt;</span>app:geometry<span class="nt">&lt;/PropertyName&gt;</span>
<span class="nt">&lt;/Function&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="interiorpoint">
<h3>13.3.4. InteriorPoint<a class="headerlink" href="#interiorpoint" title="Permalink to this headline">¶</a></h3>
<p>This function calculates an interior point within a polygon. If multiple geometry nodes are selected, multiple centroids are calculated. Useful to place text on a point within a polygon (centroids may not actually be a point on the polygon).</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Function</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">name=</span><span class="s">&quot;InteriorPoint&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PropertyName&gt;</span>app:geometry<span class="nt">&lt;/PropertyName&gt;</span>
<span class="nt">&lt;/Function&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="ispoint-iscurve-issurface">
<h3>13.3.5. IsPoint, IsCurve, IsSurface<a class="headerlink" href="#ispoint-iscurve-issurface" title="Permalink to this headline">¶</a></h3>
<p>Takes one parameter, which must evaluate to exactly one geometry node.</p>
<p>This function returns true, if the geometry is a point/multipoint, curve/multicurve or surface/multisurface, respectively.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Function</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">name=</span><span class="s">&quot;IsCurve&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PropertyName&gt;</span>app:geometry<span class="nt">&lt;/PropertyName&gt;</span>
<span class="nt">&lt;/Function&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="geometryfromwkt">
<h3>13.3.6. GeometryFromWKT<a class="headerlink" href="#geometryfromwkt" title="Permalink to this headline">¶</a></h3>
<p>Useful to create a constant geometry valued expression.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Function</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">name=</span><span class="s">&quot;GeometryFromWKT&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Literal&gt;</span>EPSG:4326<span class="nt">&lt;/Literal&gt;</span>
  <span class="nt">&lt;Literal&gt;</span>POINT(0.6 0.7)<span class="nt">&lt;/Literal&gt;</span>
<span class="nt">&lt;/Function&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="movegeometry">
<h3>13.3.7. MoveGeometry<a class="headerlink" href="#movegeometry" title="Permalink to this headline">¶</a></h3>
<p>Useful to displace geometries by a certain value in x and/or y direction.</p>
<p>To shift 20 geometry units in y direction:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Function</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">name=</span><span class="s">&quot;MoveGeometry&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PropertyName&gt;</span>app:geometry<span class="nt">&lt;/PropertyName&gt;</span>
  <span class="nt">&lt;Literal&gt;</span>0<span class="nt">&lt;/Literal&gt;</span>
  <span class="nt">&lt;Literal&gt;</span>20<span class="nt">&lt;/Literal&gt;</span>
<span class="nt">&lt;/Function&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="idiv">
<h3>13.3.8. iDiv<a class="headerlink" href="#idiv" title="Permalink to this headline">¶</a></h3>
<p>Integer division discarding the remainder.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Function</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">name=</span><span class="s">&quot;idiv&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;PropertyName&gt;</span>app:count<span class="nt">&lt;/PropertyName&gt;</span>
  <span class="nt">&lt;Literal&gt;</span>20<span class="nt">&lt;/Literal&gt;</span>
<span class="nt">&lt;/Function&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="imod">
<h3>13.3.9. iMod<a class="headerlink" href="#imod" title="Permalink to this headline">¶</a></h3>
<p>Integer division resulting in the remainder only.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Function</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">name=</span><span class="s">&quot;ExtraProp&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Literal&gt;</span>planArt<span class="nt">&lt;/Literal&gt;</span>
<span class="nt">&lt;/Function&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="extraprop">
<h3>13.3.10. ExtraProp<a class="headerlink" href="#extraprop" title="Permalink to this headline">¶</a></h3>
<p>Access extra (hidden) properties attached to feature objects. The availability of such properties depends on the loading/storage mechanism used.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Function</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">name=</span><span class="s">&quot;ExtraProp&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Literal&gt;</span>planArt<span class="nt">&lt;/Literal&gt;</span>
<span class="nt">&lt;/Function&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="getcurrentscale">
<h3>13.3.11. GetCurrentScale<a class="headerlink" href="#getcurrentscale" title="Permalink to this headline">¶</a></h3>
<p>The GetCurrentScale function takes no arguments, and dynamically provides you with the value of the current map scale denominator (only to be used in GetMap requests!). The scale denominator will be adapted to any custom pixel size you may be using in your request, and is the same scale denominator the WMS uses internally for filtering out layers/style rules.</p>
<p>Let&#8217;s have a look at an example:</p>
<div class="highlight-xml"><div class="highlight"><pre>...
<span class="nt">&lt;sld:SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;ogc:Function</span> <span class="na">name=</span><span class="s">&quot;idiv&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ogc:Literal&gt;</span>500000<span class="nt">&lt;/ogc:Literal&gt;</span>
    <span class="nt">&lt;ogc:Function</span> <span class="na">name=</span><span class="s">&quot;GetCurrentScale&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/ogc:Function&gt;</span>
<span class="nt">&lt;/sld:SvgParameter&gt;</span>
...
</pre></div>
</div>
<p>In this case, the stroke width will be one pixel for scales around 500000, and will get bigger as you zoom in (and the scale denominator gets smaller). Scale denominators above 500000 will yield invisible strokes with a width of zero.</p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, The deegree project.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>