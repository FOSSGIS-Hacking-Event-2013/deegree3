<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>18. Java modules and libraries &mdash; deegree webservices ${project.version} documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '${project.version}',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="deegree webservices ${project.version} documentation" href="index.html" />
    <link rel="next" title="19. GDAL components" href="gdal.html" />
    <link rel="prev" title="17. deegree REST interface" href="restapi.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          deegree webservices</a>
        <span class="navbar-text navbar-version pull-left"><b>${project.version}</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="lightly.html">3. Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">4. Configuration basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="webservices.html">5. Web services</a></li>
<li class="toctree-l1"><a class="reference internal" href="featurestores.html">6. Feature stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="tilestores.html">7. Tile stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="coveragestores.html">8. Coverage stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadatastores.html">9. Metadata stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers.html">10. Map layers</a></li>
<li class="toctree-l1"><a class="reference internal" href="themes.html">11. Map themes</a></li>
<li class="toctree-l1"><a class="reference internal" href="renderstyles.html">12. Map styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="filterencoding.html">13. Filter Encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="serverconnections.html">14. Server connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="processproviders.html">15. Process providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="crs.html">16. Coordinate reference systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="restapi.html">17. deegree REST interface</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">18. Java modules and libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="gdal.html">19. GDAL components</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">18. Java modules and libraries</a><ul>
<li><a class="reference internal" href="#java-code-and-the-classpath">18.1. Java code and the classpath</a><ul>
<li><a class="reference internal" href="#web-application-classpath">18.1.1. Web application classpath</a></li>
<li><a class="reference internal" href="#workspace-classpath">18.1.2. Workspace classpath</a></li>
</ul>
</li>
<li><a class="reference internal" href="#checking-available-jars">18.2. Checking available JARs</a></li>
<li><a class="reference internal" href="#adding-database-modules">18.3. Adding database modules</a><ul>
<li><a class="reference internal" href="#adding-oracle-support">18.3.1. Adding Oracle support</a></li>
<li><a class="reference internal" href="#adding-microsoft-sql-server-support">18.3.2. Adding Microsoft SQL server support</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="restapi.html" title="Previous Chapter: 17. deegree REST interface"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; 17. deegree REST...</span>
    </a>
  </li>
  <li>
    <a href="gdal.html" title="Next Chapter: 19. GDAL components"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">19. GDAL compone... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/javamodules.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="java-modules-and-libraries">
<span id="anchor-configuration-javamodules"></span><h1>18. Java modules and libraries<a class="headerlink" href="#java-modules-and-libraries" title="Permalink to this headline">¶</a></h1>
<p>deegree webservices is a Java web application and based on code written in the Java programming language. As a user, you usually don&#8217;t need to care about this, unless you want to extend the default functionality available in a deegree webservices setup. This chapter provides some basic knowledge of JAR (Java archive) files, the Java classpath and describes how deegree webservices finds JARs. Additionally, it provides precise instructions for adding JARs so your deegree webservices instance can connect to Oracle Spatial and Microsoft SQL Server databases.</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">The terms JAR, module and library are used interchangeably in this chapter.</p>
</div>
<div class="section" id="java-code-and-the-classpath">
<span id="anchor-adding-jars"></span><h2>18.1. Java code and the classpath<a class="headerlink" href="#java-code-and-the-classpath" title="Permalink to this headline">¶</a></h2>
<p>Java code is usually packaged in JAR files. If you want to extend deegree&#8217;s codebase, you will have to add one or more JAR files to the so-called classpath <a class="footnote-reference" href="#f1" id="id1">[1]</a>. Basically, there are two different types of classpaths that determine which JAR files are available to deegree webservices:</p>
<ul class="simple">
<li>The web application classpath</li>
<li>The workspace classpath</li>
</ul>
<p>The full classpath used by deegree webservices consists of the web application classpath and the workspace classpath. If conflicting files exist on both classpaths, the file on the workspace classpath takes precedence.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If you&#8217;re not familiar with classpath concepts and don&#8217;t have any special requirements, simply add your JAR files to the workspace classpath and ignore the web application classpath.</p>
</div>
<div class="section" id="web-application-classpath">
<h3>18.1.1. Web application classpath<a class="headerlink" href="#web-application-classpath" title="Permalink to this headline">¶</a></h3>
<p>As deegree webservices is a Java web application, standard paths apply:</p>
<ul class="simple">
<li>Directory <tt class="docutils literal"><span class="pre">WEB-INF/lib</span></tt> of the deegree web application (for JARs)</li>
<li>Directory <tt class="docutils literal"><span class="pre">WEB-INF/classes</span></tt> of the deegree web application (for Java class files)</li>
<li>Global directories for all web applications running in the container (depends on the actual web container)</li>
</ul>
<p>When you add files to the web application claspath, you have to restart the web application or the web application container to make the new code available to deegree webservices.</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">All Java libraries shipped with deegree webservices are located in the <tt class="docutils literal"><span class="pre">WEB-INF/lib</span></tt> directory of the deegree webservices webapp. If you downloaded the ZIP version, this directory is located in <tt class="docutils literal"><span class="pre">webapps/ROOT/WEB-INF/lib</span></tt>.</p>
</div>
</div>
<div class="section" id="workspace-classpath">
<h3>18.1.2. Workspace classpath<a class="headerlink" href="#workspace-classpath" title="Permalink to this headline">¶</a></h3>
<p>When deegree webservices initializes the workspace, it scans directory <tt class="docutils literal"><span class="pre">modules/</span></tt> of the active deegree workspace for files ending with <tt class="docutils literal"><span class="pre">.jar</span></tt> and adds them to the classpath. This can be very handy, as it allows to create self-contained workspaces (no fiddling with other directories required) and also has the benefit the you can reload the deegree workspace only after adding your libraries (instead of restarting the deegree webapp or the whole web application container).</p>
<div class="admonition hint">
<p class="first admonition-title">Hint</p>
<p class="last">In addition to workspace directory <tt class="docutils literal"><span class="pre">modules/</span></tt>, directory <tt class="docutils literal"><span class="pre">classes/</span></tt> can be used to add individual Java classes (and other files) to the classpath. This is usually not required.</p>
</div>
</div>
</div>
<div class="section" id="checking-available-jars">
<h2>18.2. Checking available JARs<a class="headerlink" href="#checking-available-jars" title="Permalink to this headline">¶</a></h2>
<p>In order to see which JARs are available to your deegree webservices instance/workspace, use the &#8220;module info&#8221; link in the general section of the service console:</p>
<div class="figure" style="width: 60%">
<a class="reference external image-reference" href="_images/module_info.png"><img alt="_images/module_info.png" src="_images/module_info.png" style="width: 50%;" /></a>
<p class="caption">Displaying available JARs using the service console</p>
</div>
<p>The list of JARs section displays the JARs found on the web application classpath, while the lower section displays the JARs found on the workspace classpath.</p>
</div>
<div class="section" id="adding-database-modules">
<span id="anchor-db-libraries"></span><h2>18.3. Adding database modules<a class="headerlink" href="#adding-database-modules" title="Permalink to this headline">¶</a></h2>
<p>By default, deegree webservices includes everything that is needed for connecting to PostgreSQL/PostGIS and Derby databases. If you want to connect to an Oracle Spatial or Microsoft SQL Server instance, you need to add additional Java libraries manually, as the required JDBC libraries are not included in the deegree webservices download (for license reasons).</p>
<div class="section" id="adding-oracle-support">
<h3>18.3.1. Adding Oracle support<a class="headerlink" href="#adding-oracle-support" title="Permalink to this headline">¶</a></h3>
<p>The following deegree resources support Oracle Spatial databases (10g, 11g):</p>
<ul class="simple">
<li>SimpleSQLFeatureStore</li>
<li>SQLFeatureStore</li>
<li>ISOMetadataStore</li>
</ul>
<p>In order to enable Oracle connectivity for these resources, you need to add two JAR files (see <a class="reference internal" href="#anchor-adding-jars"><em>Java code and the classpath</em></a>):</p>
<ul class="simple">
<li>A compatible Oracle JDBC6-type driver (e.g. <tt class="docutils literal"><span class="pre">ojdbc6-11.2.0.2.jar</span></tt>) <a class="footnote-reference" href="#f2" id="id2">[2]</a></li>
<li>Module deegree-sqldialect-oracle <a class="footnote-reference" href="#f3" id="id3">[3]</a></li>
</ul>
</div>
<div class="section" id="adding-microsoft-sql-server-support">
<h3>18.3.2. Adding Microsoft SQL server support<a class="headerlink" href="#adding-microsoft-sql-server-support" title="Permalink to this headline">¶</a></h3>
<p>The following deegree resources support Microsoft SQL Server (2008, 2012):</p>
<ul class="simple">
<li>SimpleSQLFeatureStore</li>
<li>SQLFeatureStore</li>
<li>ISOMetadataStore</li>
</ul>
<p>In order to enable Microsoft SQL Server connectivity for these resources, you need to add two JAR files (see <a class="reference internal" href="#anchor-adding-jars"><em>Java code and the classpath</em></a>):</p>
<ul class="simple">
<li>A compatible Microsoft JDBC driver (e.g. <tt class="docutils literal"><span class="pre">sqljdbc4-3.0.jar</span></tt>) <a class="footnote-reference" href="#f4" id="id4">[4]</a></li>
<li>Module deegree-sqldialect-mssql <a class="footnote-reference" href="#f5" id="id5">[5]</a></li>
</ul>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>The term classpath describes the set of files or directories which are used to find the available Java code (JARs and class files).</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><a class="reference external" href="http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html">http://www.oracle.com/technetwork/database/features/jdbc/index-091264.html</a> (registration required)</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[3]</a></td><td><a class="reference external" href="http://repo.deegree.org/content/repositories/public/org/deegree/deegree-sqldialect-oracle">http://repo.deegree.org/content/repositories/public/org/deegree/deegree-sqldialect-oracle</a>/${project.version}/deegree-sqldialect-oracle-${project.version}.jar</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[4]</a></td><td><a class="reference external" href="http://msdn.microsoft.com/en-us/sqlserver/aa937724.aspx">http://msdn.microsoft.com/en-us/sqlserver/aa937724.aspx</a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[5]</a></td><td><a class="reference external" href="http://repo.deegree.org/content/repositories/public/org/deegree/deegree-sqldialect-mssql">http://repo.deegree.org/content/repositories/public/org/deegree/deegree-sqldialect-mssql</a>/${project.version}/deegree-sqldialect-mssql-${project.version}.jar</td></tr>
</tbody>
</table>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, The deegree project.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>