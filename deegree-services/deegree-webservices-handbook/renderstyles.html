<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>12. Map styles &mdash; deegree webservices ${project.version} documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '${project.version}',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="deegree webservices ${project.version} documentation" href="index.html" />
    <link rel="next" title="13. Filter Encoding" href="filterencoding.html" />
    <link rel="prev" title="11. Map themes" href="themes.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          deegree webservices</a>
        <span class="navbar-text navbar-version pull-left"><b>${project.version}</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="lightly.html">3. Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="basics.html">4. Configuration basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="webservices.html">5. Web services</a></li>
<li class="toctree-l1"><a class="reference internal" href="featurestores.html">6. Feature stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="tilestores.html">7. Tile stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="coveragestores.html">8. Coverage stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadatastores.html">9. Metadata stores</a></li>
<li class="toctree-l1"><a class="reference internal" href="layers.html">10. Map layers</a></li>
<li class="toctree-l1"><a class="reference internal" href="themes.html">11. Map themes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">12. Map styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="filterencoding.html">13. Filter Encoding</a></li>
<li class="toctree-l1"><a class="reference internal" href="serverconnections.html">14. Server connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="processproviders.html">15. Process providers</a></li>
<li class="toctree-l1"><a class="reference internal" href="crs.html">16. Coordinate reference systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="restapi.html">17. deegree REST interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="javamodules.html">18. Java modules and libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="gdal.html">19. GDAL components</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">12. Map styles</a><ul>
<li><a class="reference internal" href="#overview">12.1. Overview</a></li>
<li><a class="reference internal" href="#basics">12.2. Basics</a><ul>
<li><a class="reference internal" href="#general-layout">12.2.1. General Layout</a></li>
<li><a class="reference internal" href="#symbolization-rules">12.2.2. Symbolization Rules</a><ul>
<li><a class="reference internal" href="#stroke">12.2.2.1. Stroke</a></li>
<li><a class="reference internal" href="#fill">12.2.2.2. Fill</a></li>
<li><a class="reference internal" href="#font">12.2.2.3. Font</a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-symbolization">12.2.3. Advanced symbolization</a><ul>
<li><a class="reference internal" href="#using-graphics">12.2.3.1. Using Graphics</a></li>
<li><a class="reference internal" href="#size">12.2.3.2. Size</a></li>
<li><a class="reference internal" href="#gap">12.2.3.3. Gap</a></li>
<li><a class="reference internal" href="#rotation">12.2.3.4. Rotation</a></li>
<li><a class="reference internal" href="#displacement">12.2.3.5. Displacement</a></li>
<li><a class="reference internal" href="#halo">12.2.3.6. Halo</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#using-filters">12.3. Using Filters</a></li>
<li><a class="reference internal" href="#basic-examples">12.4. Basic Examples</a><ul>
<li><a class="reference internal" href="#point-symbolizer">12.4.1. Point Symbolizer</a></li>
<li><a class="reference internal" href="#line-symbolizer">12.4.2. Line Symbolizer</a></li>
<li><a class="reference internal" href="#polygon-symbolizer">12.4.3. Polygon Symbolizer</a></li>
<li><a class="reference internal" href="#text-symbolizer">12.4.4. Text Symbolizer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#sld-se-clarifications">12.5. SLD/SE clarifications</a><ul>
<li><a class="reference internal" href="#perpendicular-offset-polygon-orientation">12.5.1. Perpendicular offset/polygon orientation</a></li>
<li><a class="reference internal" href="#scaledenominators">12.5.2. ScaleDenominators</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deegree-specific-extensions">12.6. deegree specific extensions</a><ul>
<li><a class="reference internal" href="#sld-se-extensions">12.6.1. SLD/SE extensions</a><ul>
<li><a class="reference internal" href="#use-of-ttf-files-as-mark-symbols">12.6.1.1. Use of TTF files as Mark symbols</a></li>
<li><a class="reference internal" href="#label-autoplacement">12.6.1.2. Label AutoPlacement</a></li>
<li><a class="reference internal" href="#lineplacement-extensions">12.6.1.3. LinePlacement extensions</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#example">12.7. Example</a><ul>
<li><a class="reference internal" href="#se-fe-functions">12.7.1. SE &amp; FE Functions</a><ul>
<li><a class="reference internal" href="#formatnumber">12.7.1.1. FormatNumber</a></li>
<li><a class="reference internal" href="#formatdate">12.7.1.2. FormatDate</a></li>
<li><a class="reference internal" href="#changecase">12.7.1.3. ChangeCase</a></li>
<li><a class="reference internal" href="#concatenate">12.7.1.4. Concatenate</a></li>
<li><a class="reference internal" href="#trim">12.7.1.5. Trim</a></li>
<li><a class="reference internal" href="#stringlength">12.7.1.6. StringLength</a></li>
<li><a class="reference internal" href="#substring">12.7.1.7. Substring</a></li>
<li><a class="reference internal" href="#stringposition">12.7.1.8. StringPosition</a></li>
<li><a class="reference internal" href="#categorize-interpolate-recode">12.7.1.9. Categorize, Interpolate, Recode</a></li>
<li><a class="reference internal" href="#general-xpath-functions">12.7.1.10. General XPath functions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="themes.html" title="Previous Chapter: 11. Map themes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; 11. Map themes</span>
    </a>
  </li>
  <li>
    <a href="filterencoding.html" title="Next Chapter: 13. Filter Encoding"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">13. Filter Encod... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/renderstyles.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="map-styles">
<span id="anchor-configuration-renderstyles"></span><h1>12. Map styles<a class="headerlink" href="#map-styles" title="Permalink to this headline">¶</a></h1>
<p>Style resources are used to obtain information on how to render geo objects (mostly features, but also coverages) into maps. The most common use case is to reference them from a layer configuration, in order to describe how the layer is to be rendered. This chapter assumes the reader is familiar with basic SLD/SE terms. The style configurations do not depend on any other resource.</p>
<p>In contrast to other deegree configurations the style configurations do not have a custom format. You can use standard SLD or SE documents (1.0.0 and 1.1.0 are supported), with a couple of deegree specific extensions, which are described below. Please refer to the <a class="reference external" href="http://www.opengeospatial.org/standards/sld">SLD</a> and <a class="reference external" href="http://www.opengeospatial.org/standards/se">SE</a> specifications for reference. Additionally this page contains specific examples below.</p>
<p>In deegree terms, each SLD or SE file will create a <em>style store</em>. In case of an SE file (usually beginning at the FeatureTypeStyle or CoverageStyle level) the style store only contains one style, in case of an SLD file the style store may contain multiple styles, each identified by the layer (only NamedLayers make sense here) and the name of the style (only UserStyles make sense) when referenced later.</p>
<div class="figure" style="width: 80%">
<a class="reference external image-reference" href="_images/workspace-overview-style.png"><img alt="_images/workspace-overview-style.png" src="_images/workspace-overview-style.png" style="width: 80%;" /></a>
<p class="caption">Style resources define how geo objects are rendered</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">When defining styles, take note of the log file. Upon startup the log will warn you about potential problems or errors during parsing, and upon rendering warnings will be emitted when rendering is unsuccessful eg. because you had a typo in a geometry property name. When you&#8217;re seeing an empty map when expecting a fancy one, check the log before reporting a bug. deegree will tolerate a lot of syntactical errors in your style files, but you&#8217;re more likely to get a good result when your files validate and you have no warnings in the log.</p>
</div>
<div class="section" id="overview">
<h2>12.1. Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>From the point of view of the Symbology Encoding Standard, there are 5 kinds of symbolizations, which can be present in a map image:</dt>
<dd><ul class="first last simple">
<li><strong>Point symbolizations</strong></li>
<li><strong>Line symbolizations</strong></li>
<li><strong>Polygon symbolizations</strong></li>
<li><strong>Text symbolizations</strong></li>
<li><strong>Raster symbolizations</strong></li>
</ul>
</dd>
</dl>
<p>The first 4 symbolizations usually represent vector feature objects. Raster symbolization is used to visualize raster data. This documentation chapter describes, how those
symbolizations can be realized using OGC symbology encoding. It will lead from the underlying basics to some more complex constructions for map visulization.</p>
</div>
<div class="section" id="basics">
<h2>12.2. Basics<a class="headerlink" href="#basics" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general-layout">
<h3>12.2.1. General Layout<a class="headerlink" href="#general-layout" title="Permalink to this headline">¶</a></h3>
<p>The general structure of an SE-Style contains:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;FeatureTypeStyle&gt;</span>
<span class="nt">&lt;FeatureTypeName&gt;</span>
<span class="nt">&lt;Rule&gt;</span>
</pre></div>
</div>
<p>It is constructed like this:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;FeatureTypeStyle</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span> <span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">xmlns:sed=</span><span class="s">&quot;http://www.deegree.org/se&quot;</span> <span class="na">xmlns:deegreeogc=</span><span class="s">&quot;http://www.deegree.org/ogc&quot;</span> <span class="na">xmlns:plan=</span><span class="s">&quot;http://www.deegree.org/plan&quot;</span> <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span> <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.opengis.net/se http://schemas.opengis.net/se/1.1.0/FeatureStyle.xsd http://www.deegree.org/se http://schemas.deegree.org/se/1.1.0/Symbolizer-deegree.xsd&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;FeatureTypeName&gt;</span>plan:yourFeatureType<span class="nt">&lt;/FeatureTypeName&gt;</span>
    <span class="nt">&lt;Rule&gt;</span>
        ...
    <span class="nt">&lt;/Rule&gt;</span>
<span class="nt">&lt;/FeatureTypeStyle&gt;</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Before you start, always remember that every style is read top-down. So be aware the second &lt;Rule&gt; will overpaint the first one, the third overpaints the second and so on</p>
</div>
</div>
<div class="section" id="symbolization-rules">
<h3>12.2.2. Symbolization Rules<a class="headerlink" href="#symbolization-rules" title="Permalink to this headline">¶</a></h3>
<p>Every specific map visualization needs its own symbolization rule. Rules are defined within the <strong>&lt;Rule&gt;</strong> element. Each rule can consist of at least one symbolizer.
Every rule has its own name and description elements. The description elements are used to create the legend caption from it.</p>
<p>Depending on the type of symbolization to create, one of the following symbolizers can be used:</p>
<blockquote>
<div><ul class="simple">
<li>&lt;PointSymbolizer&gt;</li>
<li>&lt;LineSymbolizer&gt;</li>
<li>&lt;PolygonSymbolizer&gt;</li>
<li>&lt;TextSymbolizer&gt;</li>
<li>&lt;RasterSymbolizer&gt;</li>
</ul>
</div></blockquote>
<p>Symbolizers can have an uom-attribute (units of measure), which determines the unit of all values set inside the Symbolizer. The following values for UoM are supported within deegree:</p>
<blockquote>
<div><ul class="simple">
<li>uom=&#8221;pixel&#8221;</li>
<li>uom=&#8221;meter&#8221;</li>
<li>uom=&#8221;mm&#8221;</li>
</ul>
</div></blockquote>
<p>The default value is &#8220;pixel&#8221;.</p>
<p>Within every symbolizer (except rastersymbolizers), a geometry property used for the rendering, can be specified with the <strong>&lt;Geometry&gt;</strong> element.
If there is no geometry specified the first geometry property of the FeatureType will be used.</p>
<p>Each of the (Vector-)Symbolizer-elements has its dimensions, which are described in more detail below:</p>
<blockquote>
<div><ul class="simple">
<li><strong>&lt;LineSymbolizer&gt;</strong> has only one dimension: the &lt;Stroke&gt;-element (to style the stroke).</li>
<li><strong>&lt;PolygonSymbolizer&gt;</strong> has two dimensions: the &lt;Stroke&gt; (to sytle the stroke of the polygon) and the &lt;Fill&gt;-element (to style the inside of the polygon).</li>
<li><strong>&lt;PointSymbolizer&gt;</strong> can also contain both dimensions: the &lt;Stroke&gt; (to style the stroke of the point) and the &lt;Fill&gt;-element (to style the inside of the point).</li>
<li><strong>&lt;TextSymbolizer&gt;</strong> has three dimensions: the &lt;Label&gt; (to set the property, which is to be styled), the &lt;Font&gt; (to style the font) and the &lt;Fill&gt;-element (to style the inside of the font).</li>
</ul>
</div></blockquote>
<div class="section" id="stroke">
<h4>12.2.2.1. Stroke<a class="headerlink" href="#stroke" title="Permalink to this headline">¶</a></h4>
<p>To describe a &lt;Stroke&gt;, a number of different &lt;SvgParameter&gt; can be used.</p>
<blockquote>
<div><ul class="simple">
<li>name=&#8221;stroke&#8221; ==&gt; The stroke (color) is defined by the hex color code (e.g. black ==&gt; #000000).</li>
<li>name=&#8221;opacity&#8221; ==&gt; Opacity can be set by a percentage number, written as decimal (e.g. 0,25 ==&gt; 25% opacity).</li>
<li>name=&#8221;with&#8221; ==&gt; Wide or thin, set your stroke-width however you want.</li>
<li>name=&#8221;linecap&#8221; ==&gt; For linecap (ending) a stroke you can choose the following types: round, edged, square, butt.</li>
<li>name=&#8221;linejoin&#8221; ==&gt; Also there are different types of linejoin possibilities: round, mitre, bevel.</li>
<li>name=&#8221;dasharray&#8221; ==&gt; The dasharray defines where the stroke is painted and where not (e.g. &#8220;1 1&#8221; ==&gt; - - - ).</li>
</ul>
</div></blockquote>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;LineSymbolizer</span> <span class="na">uom=</span><span class="s">&quot;meter&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Geometry&gt;</span>
    <span class="nt">&lt;ogc:PropertyName&gt;</span>layer:position<span class="nt">&lt;/ogc:PropertyName&gt;</span>
  <span class="nt">&lt;/Geometry&gt;</span>
  <span class="nt">&lt;Stroke&gt;</span>
    <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke&quot;</span><span class="nt">&gt;</span>#000000<span class="nt">&lt;/SvgParameter&gt;</span>
    <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-opacity&quot;</span><span class="nt">&gt;</span>0.5<span class="nt">&lt;/SvgParameter&gt;</span>
    <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/SvgParameter&gt;</span>
    <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-linecap&quot;</span><span class="nt">&gt;</span>round<span class="nt">&lt;/SvgParameter&gt;</span>
    <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-linejoin&quot;</span><span class="nt">&gt;</span>round<span class="nt">&lt;/SvgParameter&gt;</span>
    <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-dasharray&quot;</span><span class="nt">&gt;</span>1 1<span class="nt">&lt;/SvgParameter&gt;</span>
  <span class="nt">&lt;/Stroke&gt;</span>
<span class="nt">&lt;/LineSymbolizer&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="fill">
<h4>12.2.2.2. Fill<a class="headerlink" href="#fill" title="Permalink to this headline">¶</a></h4>
<p>For the visualization of polygons, points and texts, the &lt;Fill&gt; element can be used additional to styling the &lt;Stroke&gt;. You can set the following &lt;SvgParameter&gt;:</p>
<blockquote>
<div><ul class="simple">
<li>name=&#8221;fill&#8221; (color)</li>
<li>name=&#8221;fill-opacity&#8221;</li>
</ul>
</div></blockquote>
<p>These two &lt;SvgParameter&gt; are working like those from &lt;Stroke&gt;.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;PolygonSymbolizer</span> <span class="na">uom=</span><span class="s">&quot;meter&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Geometry&gt;</span>
    <span class="nt">&lt;...&gt;</span>
  <span class="nt">&lt;/Geometry&gt;</span>
  <span class="nt">&lt;Fill&gt;</span>
    <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#000000<span class="nt">&lt;/SvgParameter&gt;</span>
    <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;fill-opacity&quot;</span><span class="nt">&gt;</span>0.5<span class="nt">&lt;/SvgParameter&gt;</span>
  <span class="nt">&lt;/Fill&gt;</span>
  <span class="nt">&lt;Stroke&gt;</span>
    <span class="nt">&lt;...&gt;</span>
  <span class="nt">&lt;/Stroke&gt;</span>
<span class="nt">&lt;/PolygonSymbolizer&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="font">
<h4>12.2.2.3. Font<a class="headerlink" href="#font" title="Permalink to this headline">¶</a></h4>
<p>For the creation of a &lt;TextSymbolizer&gt;, certain parameters for the displayed text have to be set.
Every &lt;TextSymbolizer&gt; needs a &lt;Label&gt; to be specified.
The &lt;Font&gt; to be used for the text symbolization can be set with &lt;SvgParameter&gt; elements. These are the possible &lt;SvgParameter&gt;:</p>
<blockquote>
<div><ul class="simple">
<li>name=&#8221;font-family&#8221; ==&gt; Possible types are: e.g. Arial, Times Roman, Sans-Serif</li>
<li>name=&#8221;font-weight&#8221; ==&gt; Possible types are: normal, bold, bolder, lighter</li>
<li>name=&#8221;font-size&#8221;</li>
</ul>
</div></blockquote>
<p>With a &lt;Fill&gt;-element a color and opacity of the font can be defined. This method is used to show text which is stored in your database.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;TextSymbolizer</span> <span class="na">uom=</span><span class="s">&quot;meter&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Geometry&gt;</span>
    <span class="nt">&lt;...&gt;</span>
  <span class="nt">&lt;/Geometry&gt;</span>
  <span class="nt">&lt;Label&gt;</span>
    <span class="nt">&lt;ogc:PropertyName&gt;</span>layer:displayedProperty<span class="nt">&lt;/ogc:PropertyName&gt;</span>
  <span class="nt">&lt;/Label&gt;</span>
  <span class="nt">&lt;Font&gt;</span>
    <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;font-family&quot;</span><span class="nt">&gt;</span>Arial<span class="nt">&lt;/SvgParameter&gt;</span>
    <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;font-family&quot;</span><span class="nt">&gt;</span>Sans-Serif<span class="nt">&lt;/SvgParameter&gt;</span>
    <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;font-weight&quot;</span><span class="nt">&gt;</span>bold<span class="nt">&lt;/SvgParameter&gt;</span>
    <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;font-size&quot;</span><span class="nt">&gt;</span>3<span class="nt">&lt;/SvgParameter&gt;</span>
  <span class="nt">&lt;/Font&gt;</span>
  <span class="nt">&lt;Fill&gt;</span>
    <span class="nt">&lt;...&gt;</span>
  <span class="nt">&lt;/Fill&gt;</span>
<span class="nt">&lt;/TextSymbolizer&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="advanced-symbolization">
<h3>12.2.3. Advanced symbolization<a class="headerlink" href="#advanced-symbolization" title="Permalink to this headline">¶</a></h3>
<p>There are numerous possibilities for advanced symbolization. This chapter describes the basic components of advanced map stylings using symbology encoding.</p>
<div class="section" id="using-graphics">
<h4>12.2.3.1. Using Graphics<a class="headerlink" href="#using-graphics" title="Permalink to this headline">¶</a></h4>
<p>There are different ways to use graphical symbols as a base for map symbolizations. &lt;Mark&gt; elements can be used to specify well known graphics, &lt;ExternalGraphic&gt; elements can be used to have
external graphic files as a base for a symbolization rule.</p>
<p><strong>Mark</strong></p>
<p>With Marks it is possible to use wellkown objects for symboliation as well as user-generated content like SVGs.
It is possible to use all of these for &lt;PointSymbolizer&gt;, &lt;LineSymbolizer&gt; and &lt;PolygonSymbolizer&gt;.</p>
<p>For a &lt;PointSymbolizer&gt; the use of a Mark looks like the following:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;PointSymbolizer</span> <span class="na">uom=</span><span class="s">&quot;meter&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Geometry&gt;</span>
    ...
  <span class="nt">&lt;/Geometry&gt;</span>
  <span class="nt">&lt;Graphic&gt;</span>
    <span class="nt">&lt;Mark&gt;</span>
      ...
</pre></div>
</div>
<p>For &lt;LineSymbolizer&gt; and &lt;PolygonSymbolizer&gt; it works like this:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Geometry&gt;</span>
  ...
<span class="nt">&lt;/Geometry&gt;</span>
<span class="nt">&lt;Stroke&gt;</span>
  <span class="nt">&lt;GraphicStroke&gt;</span>
    <span class="nt">&lt;Graphic&gt;</span>
      <span class="nt">&lt;Mark&gt;</span>
        ...
</pre></div>
</div>
<dl class="docutils">
<dt>The following wellknown objects can be used within Marks:</dt>
<dd><ul class="first last simple">
<li>circle</li>
<li>triangle</li>
<li>star</li>
<li>square</li>
<li>x ==&gt; creates a cross</li>
</ul>
</dd>
</dl>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Mark&gt;</span>
  <span class="nt">&lt;WellKnownName&gt;</span>triangle<span class="nt">&lt;/WellKnownName&gt;</span>
  <span class="nt">&lt;Fill&gt;</span>
    ...
  <span class="nt">&lt;/Fill&gt;</span>
<span class="nt">&lt;/Mark&gt;</span>
</pre></div>
</div>
<p>Including an SVG graphic within a mark might look like this:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Mark&gt;</span>
  <span class="nt">&lt;OnlineResource</span> <span class="na">xmlns:xlink=</span><span class="s">&quot;http://www.w3.org/1999/xlink&quot;</span> <span class="na">xlink:type=</span><span class="s">&quot;simple&quot;</span>
    <span class="na">xlink:href=</span><span class="s">&quot;/filepath/symbol.svg&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;Format&gt;</span>svg<span class="nt">&lt;/Format&gt;</span>
  <span class="nt">&lt;Fill&gt;</span>
    ...
  <span class="nt">&lt;/Fill&gt;</span>
  <span class="nt">&lt;Stroke&gt;</span>
    ...
  <span class="nt">&lt;/Stroke&gt;</span>
<span class="nt">&lt;/Mark&gt;</span>
</pre></div>
</div>
<p><strong>ExternalGraphic</strong></p>
<p>&lt;ExternalGraphic&gt;-elements can be used to embed graphics, taken from a graphic-file (e.g. SVGs or PNGs). The &lt;OnlineResource&gt; sub-element gives the URL of the graphic-file.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Make sure you don&#8217;t forget the MIME-type in the &lt;Format&gt;-sub-element (e.g. &#8220;image/svg&#8221; or &#8220;image/png&#8221;).</p>
</div>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Graphic&gt;</span>
  <span class="nt">&lt;ExternalGraphic&gt;</span>
    <span class="nt">&lt;OnlineResource</span> <span class="na">xmlns:xlink=</span><span class="s">&quot;http://www.w3.org/1999/xlink&quot;</span>
      <span class="na">xlink:type=</span><span class="s">&quot;simple&quot;</span> <span class="na">xlink:href=</span><span class="s">&quot;/filepath/symbol.svg&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;Format&gt;</span>image/svg<span class="nt">&lt;/Format&gt;</span>
  <span class="nt">&lt;/ExternalGraphic&gt;</span>
 <span class="nt">&lt;Size&gt;</span>10<span class="nt">&lt;/Size&gt;</span>
  ...
<span class="nt">&lt;/Graphic&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="size">
<h4>12.2.3.2. Size<a class="headerlink" href="#size" title="Permalink to this headline">¶</a></h4>
<p>Of course everything has its own &lt;Size&gt;.
The size is defined directly after &lt;Mark&gt; or &lt;ExternalGraphic&gt;.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Mark&gt;</span>
  <span class="nt">&lt;WellKnownName&gt;</span>triangle<span class="nt">&lt;/WellKnownName&gt;</span>
  <span class="nt">&lt;Fill&gt;</span>
    <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#000000<span class="nt">&lt;/SvgParameter&gt;</span>
  <span class="nt">&lt;/Fill&gt;</span>
<span class="nt">&lt;/Mark&gt;</span>
<span class="nt">&lt;Size&gt;</span>3<span class="nt">&lt;/Size&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="gap">
<h4>12.2.3.3. Gap<a class="headerlink" href="#gap" title="Permalink to this headline">¶</a></h4>
<p>It is possible to define Gaps for graphics within &lt;LineSymbolizer&gt; or &lt;PolygonSymbolizer&gt;. For this the &lt;Gap&gt;-element can be used like this:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;GraphicStroke&gt;</span>
  <span class="nt">&lt;Graphic&gt;</span>
    <span class="nt">&lt;Mark&gt;</span>
      ...
    <span class="nt">&lt;/Mark&gt;</span>
    ...
  <span class="nt">&lt;/Graphic&gt;</span>
  <span class="nt">&lt;Gap&gt;</span>20<span class="nt">&lt;/Gap&gt;</span>
<span class="nt">&lt;/GraphicStroke&gt;</span>l
</pre></div>
</div>
</div>
<div class="section" id="rotation">
<h4>12.2.3.4. Rotation<a class="headerlink" href="#rotation" title="Permalink to this headline">¶</a></h4>
<p>Symbology Encoding enables the possibility to rotate every graphic around its center with the &lt;Rotation&gt;-element. This goes from zero to 360 degrees. The rotation is clockwise unless it&#8217;s negative, then it&#8217;s counter-clockwise.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Graphic&gt;</span>
  <span class="nt">&lt;Mark&gt;</span>
    ...
  <span class="nt">&lt;/Mark&gt;</span>
  <span class="nt">&lt;Size&gt;</span>3<span class="nt">&lt;/Size&gt;</span>
  <span class="nt">&lt;Rotation&gt;</span>180<span class="nt">&lt;/Rotation&gt;</span>
<span class="nt">&lt;/Graphic&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="displacement">
<h4>12.2.3.5. Displacement<a class="headerlink" href="#displacement" title="Permalink to this headline">¶</a></h4>
<p>The &lt;Displacement&gt;-element allows to paint a graphic displaced from his given position. Negative and positive values are possible. THe displacement must be set via the X and Y displacement elements.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Graphic&gt;</span>
  <span class="nt">&lt;Mark&gt;</span>
    ...
  <span class="nt">&lt;/Mark&gt;</span>
  ...
  <span class="nt">&lt;Displacement&gt;</span>
    <span class="nt">&lt;DisplacementX&gt;</span>5<span class="nt">&lt;/DisplacementX&gt;</span>
    <span class="nt">&lt;DisplacementY&gt;</span>5<span class="nt">&lt;/DisplacementY&gt;</span>
  <span class="nt">&lt;/Displacement&gt;</span>
<span class="nt">&lt;/Graphic&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="halo">
<h4>12.2.3.6. Halo<a class="headerlink" href="#halo" title="Permalink to this headline">¶</a></h4>
<p>A nice possibility to highlight your font, is the &lt;Halo&gt;-element.
The &lt;Radius&gt;-sub-element defines the size of the border.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;TextSymbolizer</span> <span class="na">uom=</span><span class="s">&quot;meter&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Geometry&gt;</span>
        <span class="nt">&lt;ogc:PropertyName&gt;</span>xplan:position<span class="nt">&lt;/ogc:PropertyName&gt;</span>
    <span class="nt">&lt;/Geometry&gt;</span>
    <span class="nt">&lt;Label&gt;</span>
        ...
    <span class="nt">&lt;/Label&gt;</span>
    <span class="nt">&lt;Font&gt;</span>
        ...
    <span class="nt">&lt;/Font&gt;</span>
    <span class="nt">&lt;LabelPlacement&gt;</span>
        ...
    <span class="nt">&lt;/LabelPlacement&gt;</span>
    <span class="nt">&lt;Halo&gt;</span>
        <span class="nt">&lt;Radius&gt;</span>1.0<span class="nt">&lt;/Radius&gt;</span>
        <span class="nt">&lt;Fill&gt;</span>
            ...
        <span class="nt">&lt;/Fill&gt;</span>
    <span class="nt">&lt;/Halo&gt;</span>
    ...
<span class="nt">&lt;/TextSymbolizer&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="using-filters">
<h2>12.3. Using Filters<a class="headerlink" href="#using-filters" title="Permalink to this headline">¶</a></h2>
<p>Within symbolization rules, it is possible to use Filter Encoding expressions.
How construct those expressions is explained within the <a class="reference internal" href="filterencoding.html#anchor-configuration-filter"><em>Filter Encoding</em></a> chapter</p>
</div>
<div class="section" id="basic-examples">
<h2>12.4. Basic Examples<a class="headerlink" href="#basic-examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="point-symbolizer">
<h3>12.4.1. Point Symbolizer<a class="headerlink" href="#point-symbolizer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;FeatureTypeStyle</span>
<span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span>
<span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span>
<span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span>
<span class="na">xmlns:sed=</span><span class="s">&quot;http://www.deegree.org/se&quot;</span>
<span class="na">xmlns:deegreeogc=</span><span class="s">&quot;http://www.deegree.org/ogc&quot;</span>
<span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.opengis.net/se http://schemas.opengis.net/se/1.1.0/FeatureStyle.xsd http://www.deegree.org/se http://schemas.deegree.org/se/1.1.0/Symbolizer-deegree.xsd&quot;</span><span class="nt">&gt;</span>
 <span class="nt">&lt;Name&gt;</span>Weatherstations<span class="nt">&lt;/Name&gt;</span>
 <span class="nt">&lt;Rule&gt;</span>
    <span class="nt">&lt;Name&gt;</span>Weatherstations<span class="nt">&lt;/Name&gt;</span>
    <span class="nt">&lt;Description&gt;</span>
      <span class="nt">&lt;Title&gt;</span>Weatherstations in Utah<span class="nt">&lt;/Title&gt;</span>
    <span class="nt">&lt;/Description&gt;</span>
    <span class="nt">&lt;ogc:Filter&gt;</span>
      <span class="nt">&lt;ogc:PropertyIsEqualTo&gt;</span>
        <span class="nt">&lt;ogc:PropertyName&gt;</span>SomeProperty<span class="nt">&lt;/ogc:PropertyName&gt;</span>
        <span class="nt">&lt;ogc:Literal&gt;</span>100<span class="nt">&lt;/ogc:Literal&gt;</span>
      <span class="nt">&lt;/ogc:PropertyIsEqualTo&gt;</span>
      <span class="nt">&lt;/ogc:Filter&gt;</span>
      <span class="nt">&lt;PointSymbolizer&gt;</span>
        <span class="nt">&lt;Graphic&gt;</span>
          <span class="nt">&lt;Mark&gt;</span>
            <span class="nt">&lt;WellKnownName&gt;</span>square<span class="nt">&lt;/WellKnownName&gt;</span>
            <span class="nt">&lt;Fill&gt;</span>
              <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#FF0000<span class="nt">&lt;/SvgParameter&gt;</span>
            <span class="nt">&lt;/Fill&gt;</span>
            <span class="nt">&lt;Stroke&gt;</span>
              <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke&quot;</span><span class="nt">&gt;</span>#000000<span class="nt">&lt;/SvgParameter&gt;</span>
              <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/SvgParameter&gt;</span>
            <span class="nt">&lt;/Stroke&gt;</span>
          <span class="nt">&lt;/Mark&gt;</span>
          <span class="nt">&lt;Size&gt;</span>13<span class="nt">&lt;/Size&gt;</span>
        <span class="nt">&lt;/Graphic&gt;</span>
      <span class="nt">&lt;/PointSymbolizer&gt;</span>
  <span class="nt">&lt;/Rule&gt;</span>
<span class="nt">&lt;/FeatureTypeStyle&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="line-symbolizer">
<h3>12.4.2. Line Symbolizer<a class="headerlink" href="#line-symbolizer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;FeatureTypeStyle</span>
<span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span>
<span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span>
<span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span>
<span class="na">xmlns:sed=</span><span class="s">&quot;http://www.deegree.org/se&quot;</span>
<span class="na">xmlns:deegreeogc=</span><span class="s">&quot;http://www.deegree.org/ogc&quot;</span>
<span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
<span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.opengis.net/se http://schemas.opengis.net/se/1.1.0/FeatureStyle.xsd http://www.deegree.org/se http://schemas.deegree.org/se/1.1.0/Symbolizer-deegree.xsd&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Name&gt;</span>Railroads<span class="nt">&lt;/Name&gt;</span>
  <span class="nt">&lt;Rule&gt;</span>
    <span class="nt">&lt;Name&gt;</span>Railroads<span class="nt">&lt;/Name&gt;</span>
    <span class="nt">&lt;LineSymbolizer&gt;</span>
      <span class="nt">&lt;Stroke&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke&quot;</span><span class="nt">&gt;</span>#000000<span class="nt">&lt;/SvgParameter&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-opacity&quot;</span><span class="nt">&gt;</span>1.0<span class="nt">&lt;/SvgParameter&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>0.3<span class="nt">&lt;/SvgParameter&gt;</span>
      <span class="nt">&lt;/Stroke&gt;</span>
      <span class="nt">&lt;PerpendicularOffset&gt;</span>1.5<span class="nt">&lt;/PerpendicularOffset&gt;</span>
    <span class="nt">&lt;/LineSymbolizer&gt;</span>
    <span class="nt">&lt;LineSymbolizer&gt;</span>
      <span class="nt">&lt;Stroke&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke&quot;</span><span class="nt">&gt;</span>#ffffff<span class="nt">&lt;/SvgParameter&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-opacity&quot;</span><span class="nt">&gt;</span>1.0<span class="nt">&lt;/SvgParameter&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>1.5<span class="nt">&lt;/SvgParameter&gt;</span>
      <span class="nt">&lt;/Stroke&gt;</span>
    <span class="nt">&lt;/LineSymbolizer&gt;</span>
    <span class="nt">&lt;LineSymbolizer&gt;</span>
      <span class="nt">&lt;Stroke&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke&quot;</span><span class="nt">&gt;</span>#000000<span class="nt">&lt;/SvgParameter&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-opacity&quot;</span><span class="nt">&gt;</span>1.0<span class="nt">&lt;/SvgParameter&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>0.3<span class="nt">&lt;/SvgParameter&gt;</span>
      <span class="nt">&lt;/Stroke&gt;</span>
      <span class="nt">&lt;PerpendicularOffset&gt;</span>-1.5<span class="nt">&lt;/PerpendicularOffset&gt;</span>
    <span class="nt">&lt;/LineSymbolizer&gt;</span>
  <span class="nt">&lt;/Rule&gt;</span>
<span class="nt">&lt;/FeatureTypeStyle&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="polygon-symbolizer">
<h3>12.4.3. Polygon Symbolizer<a class="headerlink" href="#polygon-symbolizer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;FeatureTypeStyle</span>
 <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span>
 <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span>
 <span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span>
 <span class="na">xmlns:sed=</span><span class="s">&quot;http://www.deegree.org/se&quot;</span>
 <span class="na">xmlns:deegreeogc=</span><span class="s">&quot;http://www.deegree.org/ogc&quot;</span>
 <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
 <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.opengis.net/se http://schemas.opengis.net/se/1.1.0/FeatureStyle.xsd http://www.deegree.org/se http://schemas.deegree.org/se/1.1.0/Symbolizer-deegree.xsd&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Name&gt;</span>LandslideAreas<span class="nt">&lt;/Name&gt;</span>
  <span class="nt">&lt;Rule&gt;</span>
    <span class="nt">&lt;Name&gt;</span>LandslideAreas<span class="nt">&lt;/Name&gt;</span>
    <span class="nt">&lt;Description&gt;</span>
      <span class="nt">&lt;Title&gt;</span>LandslideAreas<span class="nt">&lt;/Title&gt;</span>
    <span class="nt">&lt;/Description&gt;</span>
    <span class="nt">&lt;PolygonSymbolizer&gt;</span>
      <span class="nt">&lt;Fill&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#cc3300<span class="nt">&lt;/SvgParameter&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;fill-opacity&quot;</span><span class="nt">&gt;</span>0.3<span class="nt">&lt;/SvgParameter&gt;</span>
      <span class="nt">&lt;/Fill&gt;</span>
      <span class="nt">&lt;Stroke&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke&quot;</span><span class="nt">&gt;</span>#000000<span class="nt">&lt;/SvgParameter&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-opacity&quot;</span><span class="nt">&gt;</span>1.0<span class="nt">&lt;/SvgParameter&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-width&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/SvgParameter&gt;</span>
      <span class="nt">&lt;/Stroke&gt;</span>
    <span class="nt">&lt;/PolygonSymbolizer&gt;</span>
  <span class="nt">&lt;/Rule&gt;</span>
<span class="nt">&lt;/FeatureTypeStyle&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="text-symbolizer">
<h3>12.4.4. Text Symbolizer<a class="headerlink" href="#text-symbolizer" title="Permalink to this headline">¶</a></h3>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;FeatureTypeStyle</span>
 <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span>
 <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span>
 <span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span>
 <span class="na">xmlns:sed=</span><span class="s">&quot;http://www.deegree.org/se&quot;</span>
 <span class="na">xmlns:deegreeogc=</span><span class="s">&quot;http://www.deegree.org/ogc&quot;</span>
 <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
 <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://www.opengis.net/se http://schemas.opengis.net/se/1.1.0/FeatureStyle.xsd http://www.deegree.org/se http://schemas.deegree.org/se/1.1.0/Symbolizer-deegree.xsd&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;Name&gt;</span>Municipalities<span class="nt">&lt;/Name&gt;</span>
  <span class="nt">&lt;Rule&gt;</span>
    <span class="nt">&lt;Name&gt;</span>Municipalities<span class="nt">&lt;/Name&gt;</span>
    <span class="nt">&lt;Description&gt;</span>
      <span class="nt">&lt;Title&gt;</span>Municipalities<span class="nt">&lt;/Title&gt;</span>
    <span class="nt">&lt;/Description&gt;</span>
    <span class="nt">&lt;MaxScaleDenominator&gt;</span>200000<span class="nt">&lt;/MaxScaleDenominator&gt;</span>
    <span class="nt">&lt;TextSymbolizer&gt;</span>
      <span class="nt">&lt;Label&gt;</span>
        <span class="nt">&lt;ogc:PropertyName&gt;</span>app:NAME<span class="nt">&lt;/ogc:PropertyName&gt;</span>
      <span class="nt">&lt;/Label&gt;</span>
      <span class="nt">&lt;Font&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;font-family&quot;</span><span class="nt">&gt;</span>Arial<span class="nt">&lt;/SvgParameter&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;font-family&quot;</span><span class="nt">&gt;</span>Sans-Serif<span class="nt">&lt;/SvgParameter&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;font-weight&quot;</span><span class="nt">&gt;</span>bold<span class="nt">&lt;/SvgParameter&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;font-size&quot;</span><span class="nt">&gt;</span>12<span class="nt">&lt;/SvgParameter&gt;</span>
      <span class="nt">&lt;/Font&gt;</span>
      <span class="nt">&lt;Halo&gt;</span>
        <span class="nt">&lt;Radius&gt;</span>1<span class="nt">&lt;/Radius&gt;</span>
        <span class="nt">&lt;Fill&gt;</span>
          <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;fill-opacity&quot;</span><span class="nt">&gt;</span>1.0<span class="nt">&lt;/SvgParameter&gt;</span>
          <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#fefdC3<span class="nt">&lt;/SvgParameter&gt;</span>
        <span class="nt">&lt;/Fill&gt;</span>
      <span class="nt">&lt;/Halo&gt;</span>
      <span class="nt">&lt;Fill&gt;</span>
        <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#000000<span class="nt">&lt;/SvgParameter&gt;</span>
      <span class="nt">&lt;/Fill&gt;</span>
    <span class="nt">&lt;/TextSymbolizer&gt;</span>
  <span class="nt">&lt;/Rule&gt;</span>
<span class="nt">&lt;/FeatureTypeStyle&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="sld-se-clarifications">
<h2>12.5. SLD/SE clarifications<a class="headerlink" href="#sld-se-clarifications" title="Permalink to this headline">¶</a></h2>
<p>This chapter is meant to clarify deegree&#8217;s behaviour when using standard SLD/SE constructs.</p>
<div class="section" id="perpendicular-offset-polygon-orientation">
<h3>12.5.1. Perpendicular offset/polygon orientation<a class="headerlink" href="#perpendicular-offset-polygon-orientation" title="Permalink to this headline">¶</a></h3>
<p>For polygon rendering, the orientation is always fixed, and will be corrected if a feature store yields inconsistent geometries. The outer ring is always oriented counter clockwise, inner rings are oriented clockwise.</p>
<p>A positive perpendicular offset setting results in an offset movement in the outer direction, a negative setting moves the offset into the interior. For inner rings the effect is flipped (a positive setting moves into the interior of the inner ring, a negative setting moves into the exterior of the inner ring).</p>
</div>
<div class="section" id="scaledenominators">
<h3>12.5.2. ScaleDenominators<a class="headerlink" href="#scaledenominators" title="Permalink to this headline">¶</a></h3>
<p>The use of MinScaleDenominators and MaxScaleDenominators within SLD/SE files can easily be misunderstood because of the meaning of a high or a low scale. Therefore, this is clarified here according to the standard.
In general the MinScaleDenominator is always a smaller number than the MaxScaleDenominator. The following example explains, how it works:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;MinScaleDenominator&gt;</span>25000<span class="nt">&lt;/MinScaleDenominator&gt;</span>
<span class="nt">&lt;MaxScaleDenominator&gt;</span>50000<span class="nt">&lt;/MaxScaleDenominator&gt;</span>
</pre></div>
</div>
<p>This means, that the Symbolizer is being used for scales between 1:25000 and 1:50000.</p>
</div>
</div>
<div class="section" id="deegree-specific-extensions">
<h2>12.6. deegree specific extensions<a class="headerlink" href="#deegree-specific-extensions" title="Permalink to this headline">¶</a></h2>
<p>deegree supports some extensions of SLD/SE and filter encoding to enable more sophisticated styling. The following sections describe the respective extensions for SLD/SE and filter encoding.
For several specific extensions, there is a deegree SE XML <a class="reference external" href="http://schemas.deegree.org/se">Schema</a>.</p>
<div class="section" id="sld-se-extensions">
<h3>12.6.1. SLD/SE extensions<a class="headerlink" href="#sld-se-extensions" title="Permalink to this headline">¶</a></h3>
<div class="section" id="use-of-ttf-files-as-mark-symbols">
<h4>12.6.1.1. Use of TTF files as Mark symbols<a class="headerlink" href="#use-of-ttf-files-as-mark-symbols" title="Permalink to this headline">¶</a></h4>
<p>You can use TrueType font files to use custom vector symbols in a <tt class="docutils literal"><span class="pre">Mark</span></tt> element:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Mark&gt;</span>
  <span class="nt">&lt;OnlineResource</span> <span class="na">xlink:href=</span><span class="s">&quot;filepath/yousans.ttf&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;Format&gt;</span>ttf<span class="nt">&lt;/Format&gt;</span>
  <span class="nt">&lt;MarkIndex&gt;</span>99<span class="nt">&lt;/MarkIndex&gt;</span>
  <span class="nt">&lt;Fill&gt;</span>
    <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;fill&quot;</span><span class="nt">&gt;</span>#000000<span class="nt">&lt;/SvgParameter&gt;</span>
    ...
  <span class="nt">&lt;/Fill&gt;</span>
  <span class="nt">&lt;Stroke&gt;</span>
    <span class="nt">&lt;SvgParameter</span> <span class="na">name=</span><span class="s">&quot;stroke-opacity&quot;</span><span class="nt">&gt;</span>0<span class="nt">&lt;/SvgParameter&gt;</span>
    ...
  <span class="nt">&lt;/Stroke&gt;</span>
<span class="nt">&lt;/Mark&gt;</span>
</pre></div>
</div>
<p>To find out what index you need to access, have a look at this <a class="reference external" href="http://osgeo-org.1560.n6.nabble.com/SE-Styling-MarkIndex-glyph-index-tt5022210.html#a5026571">post</a> on the mailinglist which explains it very well.</p>
</div>
<div class="section" id="label-autoplacement">
<h4>12.6.1.2. Label AutoPlacement<a class="headerlink" href="#label-autoplacement" title="Permalink to this headline">¶</a></h4>
<p>deegree has an option for SE LabelPlacement to automatically place labels on the map.
To enable AutoPlacement, you can simply set the &#8220;auto&#8221; attribute to &#8220;true&#8221;.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;LabelPlacement&gt;</span>
  <span class="nt">&lt;PointPlacement</span> <span class="na">auto=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Displacement&gt;</span>
      <span class="nt">&lt;DisplacementX&gt;</span>0<span class="nt">&lt;/DisplacementX&gt;</span>
      <span class="nt">&lt;DisplacementY&gt;</span>0<span class="nt">&lt;/DisplacementY&gt;</span>
    <span class="nt">&lt;/Displacement&gt;</span>
    <span class="nt">&lt;Rotation&gt;</span>0<span class="nt">&lt;/Rotation&gt;</span>
  <span class="nt">&lt;/PointPlacement&gt;</span>
<span class="nt">&lt;/LabelPlacement&gt;</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">AutoPlacement for labels only works for PointPlacement. AutoPlacement for LinePlacement is not implemented yet.</p>
</div>
</div>
<div class="section" id="lineplacement-extensions">
<h4>12.6.1.3. LinePlacement extensions<a class="headerlink" href="#lineplacement-extensions" title="Permalink to this headline">¶</a></h4>
<p>There are additional deegree specific LinePlacement parameters available to enable more sophisticated
text rendering along lines:</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="11%" />
<col width="8%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Value</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>PreventUpsideDown</td>
<td>Boolean</td>
<td>false</td>
<td>Avoids upside down placement of text</td>
</tr>
<tr class="row-odd"><td>Center</td>
<td>Boolean</td>
<td>false</td>
<td>Places the text in the center of the line</td>
</tr>
<tr class="row-even"><td>WordWise</td>
<td>Boolean</td>
<td>true</td>
<td>Tries to place individual words instead of individual characters</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="example">
<h2>12.7. Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;LinePlacement&gt;</span>
        <span class="nt">&lt;IsRepeated&gt;</span>false<span class="nt">&lt;/IsRepeated&gt;</span>
        <span class="nt">&lt;InitialGap&gt;</span>10<span class="nt">&lt;/InitialGap&gt;</span>
        <span class="nt">&lt;PreventUpsideDown&gt;</span>true<span class="nt">&lt;/PreventUpsideDown&gt;</span>
        <span class="nt">&lt;Center&gt;</span>true<span class="nt">&lt;/Center&gt;</span>
        <span class="nt">&lt;WordWise&gt;</span>false<span class="nt">&lt;/WordWise&gt;</span>
<span class="nt">&lt;/LinePlacement&gt;</span>
</pre></div>
</div>
<div class="section" id="se-fe-functions">
<h3>12.7.1. SE &amp; FE Functions<a class="headerlink" href="#se-fe-functions" title="Permalink to this headline">¶</a></h3>
<p>There are a couple of deegree specific functions which can be expressed as standard OGC function expressions in SLD/SE. Additionally deegree has support for all the unctions defined within the SE standard.</p>
<div class="section" id="formatnumber">
<h4>12.7.1.1. FormatNumber<a class="headerlink" href="#formatnumber" title="Permalink to this headline">¶</a></h4>
<p>This function is needed to format number attributes. It can be used like in the following example:</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;FormatNumber</span> <span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span> <span class="na">fallbackValue=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;NumericValue&gt;</span>
    <span class="nt">&lt;ogc:PropertyName&gt;</span>app:SHAPE_LEN<span class="nt">&lt;/ogc:PropertyName&gt;</span>
  <span class="nt">&lt;/NumericValue&gt;</span>
  <span class="nt">&lt;Pattern&gt;</span>############.00<span class="nt">&lt;/Pattern&gt;</span>
<span class="nt">&lt;/FormatNumber&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="formatdate">
<h4>12.7.1.2. FormatDate<a class="headerlink" href="#formatdate" title="Permalink to this headline">¶</a></h4>
<p>This function is fully supported, although not fully tested with all available schema types mentioned in the spec.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;FormatDate</span> <span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span> <span class="na">fallbackValue=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;DateValue&gt;</span>
    <span class="nt">&lt;ogc:PropertyName&gt;</span>app:TIMESTAMP<span class="nt">&lt;/ogc:PropertyName&gt;</span>
  <span class="nt">&lt;/DateValue&gt;</span>
  <span class="nt">&lt;Pattern&gt;</span>DD<span class="nt">&lt;/Pattern&gt;</span>
<span class="nt">&lt;/FormatDate&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="changecase">
<h4>12.7.1.3. ChangeCase<a class="headerlink" href="#changecase" title="Permalink to this headline">¶</a></h4>
<p>This function is used to change the case of property values.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;ChangeCase</span> <span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span> <span class="na">fallbackValue=</span><span class="s">&quot;&quot;</span> <span class="na">direction=</span><span class="s">&quot;toUpper&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;StringValue&gt;</span>
    <span class="nt">&lt;ogc:PropertyName&gt;</span>app:text<span class="nt">&lt;/ogc:PropertyName&gt;</span>
  <span class="nt">&lt;/StringValue&gt;</span>
<span class="nt">&lt;/ChangeCase&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="concatenate">
<h4>12.7.1.4. Concatenate<a class="headerlink" href="#concatenate" title="Permalink to this headline">¶</a></h4>
<p>With the concatenate function it is possible to merge the values of more than one property to a chain.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Concatenate</span> <span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span> <span class="na">fallbackValue=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;StringValue&gt;</span>
    <span class="nt">&lt;ogc:PropertyName&gt;</span>app:text1<span class="nt">&lt;/ogc:PropertyName&gt;</span>
  <span class="nt">&lt;/StringValue&gt;</span>
  <span class="nt">&lt;StringValue&gt;</span>
    <span class="nt">&lt;ogc:PropertyName&gt;</span>app:text2<span class="nt">&lt;/ogc:PropertyName&gt;</span>
  <span class="nt">&lt;/StringValue&gt;</span>
  <span class="nt">&lt;StringValue&gt;</span>
    <span class="nt">&lt;ogc:PropertyName&gt;</span>app:text3<span class="nt">&lt;/ogc:PropertyName&gt;</span>
  <span class="nt">&lt;/StringValue&gt;</span>
<span class="nt">&lt;/Concatenate&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="trim">
<h4>12.7.1.5. Trim<a class="headerlink" href="#trim" title="Permalink to this headline">¶</a></h4>
<p>The trim function is used to trim string property values.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Trim</span> <span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span> <span class="na">fallbackValue=</span><span class="s">&quot;&quot;</span> <span class="na">stripOffPosition=</span><span class="s">&quot;both&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;StringValue&gt;</span>
    <span class="nt">&lt;ogc:PropertyName&gt;</span>app:text<span class="nt">&lt;/ogc:PropertyName&gt;</span>
  <span class="nt">&lt;/StringValue&gt;</span>
<span class="nt">&lt;/Trim&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="stringlength">
<h4>12.7.1.6. StringLength<a class="headerlink" href="#stringlength" title="Permalink to this headline">¶</a></h4>
<p>With the StringLength function it is possible to calculate the length of string property values.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;StringLength</span> <span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span> <span class="na">fallbackValue=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;StringValue&gt;</span>
    <span class="nt">&lt;ogc:PropertyName&gt;</span>app:text<span class="nt">&lt;/ogc:PropertyName&gt;</span>
  <span class="nt">&lt;/StringValue&gt;</span>
<span class="nt">&lt;/StringLength&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="substring">
<h4>12.7.1.7. Substring<a class="headerlink" href="#substring" title="Permalink to this headline">¶</a></h4>
<p>With the substring function it is possible to only get a specific substring of a string property.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Substring</span> <span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span> <span class="na">fallbackValue=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;StringValue&gt;</span>
    <span class="nt">&lt;ogc:PropertyName&gt;</span>app:text<span class="nt">&lt;/ogc:PropertyName&gt;</span>
  <span class="nt">&lt;/StringValue&gt;</span>
  <span class="nt">&lt;Position&gt;</span>1<span class="nt">&lt;/Position&gt;</span>
  <span class="nt">&lt;Length&gt;</span>
    <span class="nt">&lt;ogc:Sub&gt;</span>
      <span class="nt">&lt;StringPosition</span> <span class="na">fallbackValue=</span><span class="s">&quot;&quot;</span> <span class="na">searchDirection=</span><span class="s">&quot;frontToBack&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;LookupString&gt;</span>-<span class="nt">&lt;/LookupString&gt;</span>
        <span class="nt">&lt;StringValue&gt;</span>
          <span class="nt">&lt;ogc:PropertyName&gt;</span>app:text<span class="nt">&lt;/ogc:PropertyName&gt;</span>
        <span class="nt">&lt;/StringValue&gt;</span>
      <span class="nt">&lt;/StringPosition&gt;</span>
      <span class="nt">&lt;ogc:Literal&gt;</span>1<span class="nt">&lt;/ogc:Literal&gt;</span>
    <span class="nt">&lt;/ogc:Sub&gt;</span>
  <span class="nt">&lt;/Length&gt;</span>
<span class="nt">&lt;/Substring&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="stringposition">
<h4>12.7.1.8. StringPosition<a class="headerlink" href="#stringposition" title="Permalink to this headline">¶</a></h4>
<p>The StringPosition function is made to get the literal at a specific position from a string property.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;StringPosition</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span> <span class="na">fallbackValue=</span><span class="s">&quot;&quot;</span> <span class="na">searchDirection=</span><span class="s">&quot;frontToBack&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;LookupString&gt;</span>-<span class="nt">&lt;/LookupString&gt;</span>
  <span class="nt">&lt;StringValue&gt;</span>
    <span class="nt">&lt;ogc:PropertyName</span> <span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span><span class="nt">&gt;</span>app:text<span class="nt">&lt;/ogc:PropertyName&gt;</span>
  <span class="nt">&lt;/StringValue&gt;</span>
<span class="nt">&lt;/StringPosition&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="categorize-interpolate-recode">
<h4>12.7.1.9. Categorize, Interpolate, Recode<a class="headerlink" href="#categorize-interpolate-recode" title="Permalink to this headline">¶</a></h4>
<p>These functions can operate both on alphanumeric properties of features and on raster data. For color values we extended the syntax a bit to allow for an alpha channel: #99ff0000 is a red value with an alpha value of 0x99. This allows the user to create eg. an interpolation from completely transparent to a completely opaque color value. To work on raster data you&#8217;ll have to replace the PropertyName values with Rasterdata.</p>
<p>For Interpolate only linear interpolation is currently supported.</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Categorize</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span> <span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">fallbackValue=</span><span class="s">&quot;#fefdC3&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;LookupValue&gt;</span>
    <span class="nt">&lt;ogc:PropertyName&gt;</span>app:POP2000<span class="nt">&lt;/ogc:PropertyName&gt;</span>
  <span class="nt">&lt;/LookupValue&gt;</span>
  <span class="nt">&lt;Value&gt;</span>#FFE9D8<span class="nt">&lt;/Value&gt;</span>
  <span class="nt">&lt;Threshold&gt;</span>1000<span class="nt">&lt;/Threshold&gt;</span>
  <span class="nt">&lt;Value&gt;</span>#FBCFAC<span class="nt">&lt;/Value&gt;</span>
  <span class="nt">&lt;Threshold&gt;</span>10000<span class="nt">&lt;/Threshold&gt;</span>
  <span class="nt">&lt;Value&gt;</span>#FAAC6F<span class="nt">&lt;/Value&gt;</span>
  <span class="nt">&lt;Threshold&gt;</span>25000<span class="nt">&lt;/Threshold&gt;</span>
  <span class="nt">&lt;Value&gt;</span>#FD913D<span class="nt">&lt;/Value&gt;</span>
  <span class="nt">&lt;Threshold&gt;</span>100000<span class="nt">&lt;/Threshold&gt;</span>
  <span class="nt">&lt;Value&gt;</span>#FF7000<span class="nt">&lt;/Value&gt;</span>
<span class="nt">&lt;/Categorize&gt;</span>
</pre></div>
</div>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Interpolate</span> <span class="na">xmlns:ogc=</span><span class="s">&quot;http://www.opengis.net/ogc&quot;</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span> <span class="na">fallbackValue=</span><span class="s">&quot;#005C29&quot;</span> <span class="na">method=</span><span class="s">&quot;color&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;LookupValue&gt;</span>
    <span class="nt">&lt;ogc:PropertyName&gt;</span>app:CODE<span class="nt">&lt;/ogc:PropertyName&gt;</span>
  <span class="nt">&lt;/LookupValue&gt;</span>
  <span class="nt">&lt;InterpolationPoint&gt;</span>
    <span class="nt">&lt;Data&gt;</span>-1<span class="nt">&lt;/Data&gt;</span>
    <span class="nt">&lt;Value&gt;</span>#005C29<span class="nt">&lt;/Value&gt;</span>
  <span class="nt">&lt;/InterpolationPoint&gt;</span>
  <span class="nt">&lt;InterpolationPoint&gt;</span>
    <span class="nt">&lt;Data&gt;</span>100<span class="nt">&lt;/Data&gt;</span>
    <span class="nt">&lt;Value&gt;</span>#067A3A<span class="nt">&lt;/Value&gt;</span>
  <span class="nt">&lt;/InterpolationPoint&gt;</span>
  <span class="nt">&lt;InterpolationPoint&gt;</span>
    <span class="nt">&lt;Data&gt;</span>300<span class="nt">&lt;/Data&gt;</span>
    <span class="nt">&lt;Value&gt;</span>#03A64C<span class="nt">&lt;/Value&gt;</span>
  <span class="nt">&lt;/InterpolationPoint&gt;</span>
  <span class="nt">&lt;InterpolationPoint&gt;</span>
    <span class="nt">&lt;Data&gt;</span>500<span class="nt">&lt;/Data&gt;</span>
    <span class="nt">&lt;Value&gt;</span>#00CF5D<span class="nt">&lt;/Value&gt;</span>
  <span class="nt">&lt;/InterpolationPoint&gt;</span>
  <span class="nt">&lt;InterpolationPoint&gt;</span>
    <span class="nt">&lt;Data&gt;</span>1000<span class="nt">&lt;/Data&gt;</span>
    <span class="nt">&lt;Value&gt;</span>#ffffff<span class="nt">&lt;/Value&gt;</span>
  <span class="nt">&lt;/InterpolationPoint&gt;</span>
<span class="nt">&lt;/Interpolate&gt;</span>
</pre></div>
</div>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;Recode</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.opengis.net/se&quot;</span> <span class="na">fallbackValue=</span><span class="s">&quot;&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;LookupValue&gt;</span>app:code<span class="nt">&lt;/LookupValue&gt;</span>
  <span class="nt">&lt;MapItem&gt;</span>
    <span class="nt">&lt;Data&gt;</span>1000<span class="nt">&lt;/Data&gt;</span>
    <span class="nt">&lt;Value&gt;</span>water<span class="nt">&lt;/Value&gt;</span>
  <span class="nt">&lt;/MapItem&gt;</span>
  <span class="nt">&lt;MapItem&gt;</span>
    <span class="nt">&lt;Data&gt;</span>2000<span class="nt">&lt;/Data&gt;</span>
    <span class="nt">&lt;Value&gt;</span>nuclear<span class="nt">&lt;/Value&gt;</span>
  <span class="nt">&lt;/MapItem&gt;</span>
  <span class="nt">&lt;MapItem&gt;</span>
    <span class="nt">&lt;Data&gt;</span>3000<span class="nt">&lt;/Data&gt;</span>
    <span class="nt">&lt;Value&gt;</span>solar<span class="nt">&lt;/Value&gt;</span>
  <span class="nt">&lt;/MapItem&gt;</span>
  <span class="nt">&lt;MapItem&gt;</span>
    <span class="nt">&lt;Data&gt;</span>4000<span class="nt">&lt;/Data&gt;</span>
    <span class="nt">&lt;Value&gt;</span>wind<span class="nt">&lt;/Value&gt;</span>
  <span class="nt">&lt;/MapItem&gt;</span>
<span class="nt">&lt;/Recode&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="general-xpath-functions">
<h4>12.7.1.10. General XPath functions<a class="headerlink" href="#general-xpath-functions" title="Permalink to this headline">¶</a></h4>
<p>Many useful things can be done by simply using standard XPath 1.0 functions in PropertyName elements.</p>
<p>Access the (local) name of an element (e.g. the name of a referenced feature / subfeature).</p>
<div class="highlight-xml"><div class="highlight"><pre><span class="nt">&lt;PropertyName</span> <span class="na">xmlns:app=</span><span class="s">&quot;http://www.deegree.org/app&quot;</span><span class="nt">&gt;</span>app:subfeature/*/local-name()<span class="nt">&lt;/PropertyName&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, The deegree project.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>